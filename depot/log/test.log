  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 04:01:43', '2019-07-01 04:01:43', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 04:01:43', '2019-07-01 04:01:43', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 04:01:43', '2019-07-01 04:01:43'), (298486374, '2019-07-01 04:01:43', '2019-07-01 04:01:43');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 04:01:43', '2019-07-01 04:01:43'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 04:01:43', '2019-07-01 04:01:43'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 04:01:43', '2019-07-01 04:01:43');
[0m
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 11:01:43 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.0ms)
  Rendered carts/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 141ms (Views: 133.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered carts/show.html.erb within layouts/application (17.3ms)
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 04:01:44', '2019-07-01 04:01:44')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190979
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (22.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (21.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (6.2ms)
  Rendered products/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 2.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (16.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (22.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 04:01:44', '2019-07-01 04:01:44')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190971
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (13.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.7ms)
  Rendered products/edit.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-01 04:01:44' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
  [1m[35m (16.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (23.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (4.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 04:01:44', '2019-07-01 04:01:44')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190980 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190980, '2019-07-01 04:01:44', '2019-07-01 04:01:44')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190980
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started GET "/carts/980190980" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190980"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190980 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190980[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  Rendered carts/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.6ms)
  [1m[35m (18.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.4ms)
  Rendered line_items/edit.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 11:01:44 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (1.7ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:05:41', '2019-07-01 09:05:41', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:05:41', '2019-07-01 09:05:41', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:05:41', '2019-07-01 09:05:41'), (298486374, '2019-07-01 09:05:41', '2019-07-01 09:05:41');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:05:41', '2019-07-01 09:05:41'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:05:41', '2019-07-01 09:05:41'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:05:41', '2019-07-01 09:05:41');
[0m
  [1m[35m (43.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by CartsController#create as HTML
  [1m[35m (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:05:42', '2019-07-01 09:05:42')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190981
Completed 302 Found in 19ms (ActiveRecord: 2.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (23.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (19.7ms)
  Rendered carts/_cart.html.erb (40.3ms)
  Rendered carts/show.html.erb within layouts/application (43.2ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.3ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 523ms (Views: 509.8ms | ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.7ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (5.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 8ms (ActiveRecord: 5.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.3ms)
  Rendered carts/edit.html.erb within layouts/application (2.6ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.2ms)
  Rendered carts/_cart.html.erb (2.5ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.7ms)
  Rendered carts/new.html.erb within layouts/application (1.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 24ms (Views: 22.5ms | ActiveRecord: 0.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:05:42', '2019-07-01 09:05:42')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190972
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (55.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (24.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (9.8ms)
  Rendered products/new.html.erb within layouts/application (10.9ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (19.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (4.4ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.8ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-01 09:05:42' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
  [1m[35m (22.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.5ms)
  Rendered products/edit.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.5ms)
  Rendered line_items/edit.html.erb within layouts/application (3.8ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:05:42 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (8.1ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:05:43 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:05:43 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (2.4ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:05:43 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (4.3ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:05:43 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (24.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:05:43 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:05:43', '2019-07-01 09:05:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190982 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190982, '2019-07-01 09:05:43', '2019-07-01 09:05:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started GET "/" for 127.0.0.1 at 2019-07-01 16:05:43 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190982 LIMIT 1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (5.8ms)
  [1m[36mLineItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190982 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190982[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.1ms)
  Rendered carts/_cart.html.erb (4.0ms)
Completed 200 OK in 17ms (Views: 13.2ms | ActiveRecord: 2.0ms)
  [1m[35m (29.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:05:43 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:05:43', '2019-07-01 09:05:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.6ms)
  [1m[36mLineItem Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190983 LIMIT 1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190983[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 15ms (Views: 10.6ms | ActiveRecord: 2.6ms)
  [1m[35m (22.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:09:17', '2019-07-01 09:09:17', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:09:17', '2019-07-01 09:09:17', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:09:17', '2019-07-01 09:09:17'), (298486374, '2019-07-01 09:09:17', '2019-07-01 09:09:17');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:09:17', '2019-07-01 09:09:17'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:09:17', '2019-07-01 09:09:17'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:09:17', '2019-07-01 09:09:17');
[0m
  [1m[35m (21.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 14ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (19.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (6.2ms)
  Rendered products/edit.html.erb within layouts/application (7.4ms)
Completed 200 OK in 127ms (Views: 125.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:09:17', '2019-07-01 09:09:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190973
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (17.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (13.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 10ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (18.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 1.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.6ms)
  Rendered products/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.1ms)
  Rendered carts/edit.html.erb within layouts/application (3.3ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (5.2ms)
  Rendered carts/_cart.html.erb (8.1ms)
Completed 200 OK in 20ms (Views: 14.6ms | ActiveRecord: 2.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (4.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (4.1ms)
  Rendered carts/show.html.erb within layouts/application (4.6ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.2ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:09:17', '2019-07-01 09:09:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190984
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (21.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (2.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by StoreController#index as HTML
  [1m[35m (3.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:09:17', '2019-07-01 09:09:17')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.7ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190985 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190985[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 19ms (Views: 10.4ms | ActiveRecord: 5.3ms)
  [1m[35m (14.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:09:17', '2019-07-01 09:09:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190986 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190986, '2019-07-01 09:09:17', '2019-07-01 09:09:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started GET "/" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190986 LIMIT 1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.1ms)
  [1m[36mLineItem Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190986 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190986[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.2ms)
  Rendered carts/_cart.html.erb (2.9ms)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 3.8ms)
  [1m[35m (22.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (16.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.5ms)
  Rendered line_items/edit.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.7ms)
  [1m[35m (2.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:09:17 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (4.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 9ms (ActiveRecord: 5.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (5.3ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:12:14', '2019-07-01 09:12:14', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:12:14', '2019-07-01 09:12:14', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:12:14', '2019-07-01 09:12:14'), (298486374, '2019-07-01 09:12:14', '2019-07-01 09:12:14');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:12:14', '2019-07-01 09:12:14'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:12:14', '2019-07-01 09:12:14'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:12:14', '2019-07-01 09:12:14');
[0m
  [1m[35m (44.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 122ms (Views: 115.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (6.1ms)
  Rendered products/new.html.erb within layouts/application (6.9ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (22.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (20.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:12:14', '2019-07-01 09:12:14')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190974
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (23.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (19.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.8ms)
  Rendered products/edit.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:12:14', '2019-07-01 09:12:14')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (7.2ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190987 LIMIT 1[0m
  [1m[36mLineItem Load (4.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190987[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (6.0ms)
Completed 200 OK in 22ms (Views: 12.4ms | ActiveRecord: 5.4ms)
  [1m[35m (19.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:12:14', '2019-07-01 09:12:14')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190988 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190988, '2019-07-01 09:12:14', '2019-07-01 09:12:14')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (23.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.2ms)
  Rendered line_items/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (1.9ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.8ms)
  Rendered carts/_cart.html.erb (3.6ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.0ms)
  Rendered carts/_cart.html.erb (2.7ms)
  Rendered carts/show.html.erb within layouts/application (3.3ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.3ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:12:14 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:12:14', '2019-07-01 09:12:14')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190989
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (18.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:13:34', '2019-07-01 09:13:34', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:13:34', '2019-07-01 09:13:34', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:13:34', '2019-07-01 09:13:34'), (298486374, '2019-07-01 09:13:34', '2019-07-01 09:13:34');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:13:34', '2019-07-01 09:13:34'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:13:34', '2019-07-01 09:13:34'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:13:34', '2019-07-01 09:13:34');
[0m
  [1m[35m (62.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (14.4ms)
  Rendered line_items/edit.html.erb within layouts/application (16.4ms)
Completed 200 OK in 165ms (Views: 157.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (8.5ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.0ms)
  Rendered line_items/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (2.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 13ms (ActiveRecord: 4.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (11.2ms)
Completed 200 OK in 16ms (Views: 12.3ms | ActiveRecord: 2.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:13:34', '2019-07-01 09:13:34')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190990 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (1.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190990, '2019-07-01 09:13:34', '2019-07-01 09:13:34')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 5.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (62.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.1ms)
  Rendered carts/_cart.html.erb (6.7ms)
  Rendered carts/show.html.erb within layouts/application (7.6ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.3ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:13:34', '2019-07-01 09:13:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190991
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (21.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.3ms)
  Rendered carts/new.html.erb within layouts/application (2.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.7ms)
  Rendered carts/edit.html.erb within layouts/application (1.4ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.2ms)
  Rendered carts/_cart.html.erb (2.6ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:13:34', '2019-07-01 09:13:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190975
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (19.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (13.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.0ms)
  Rendered products/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:13:34 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:13:35 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (1.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 2.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (20.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:13:35 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.4ms)
  Rendered products/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:13:35 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (16.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:13:35 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:13:35 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:13:35', '2019-07-01 09:13:35')[0m
  [1m[35m (5.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.0ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190992 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190992[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 19ms (Views: 9.2ms | ActiveRecord: 7.0ms)
  [1m[35m (45.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:24:14', '2019-07-01 09:24:14', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:24:14', '2019-07-01 09:24:14', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:24:14', '2019-07-01 09:24:14'), (298486374, '2019-07-01 09:24:14', '2019-07-01 09:24:14');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:24:14', '2019-07-01 09:24:14'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:24:14', '2019-07-01 09:24:14'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:24:14', '2019-07-01 09:24:14');
[0m
  [1m[35m (46.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/new.html.erb within layouts/application (2.4ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.8ms)
Completed 200 OK in 154ms (Views: 148.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.1ms)
  Rendered carts/_cart.html.erb (8.6ms)
  Rendered carts/show.html.erb within layouts/application (9.0ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.2ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:24:15', '2019-07-01 09:24:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190993
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (22.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.8ms)
  Rendered carts/edit.html.erb within layouts/application (1.5ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.2ms)
  Rendered carts/_cart.html.erb (2.4ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (4.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-01 09:24:15' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (13.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (24.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (7.0ms)
  Rendered products/edit.html.erb within layouts/application (7.9ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:24:15', '2019-07-01 09:24:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190976
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (20.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (13.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.6ms)
  Rendered products/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:24:15', '2019-07-01 09:24:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190994 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190994, '2019-07-01 09:24:15', '2019-07-01 09:24:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.3ms)
  Rendered line_items/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.3ms)
  Rendered line_items/edit.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:24:15 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:24:15', '2019-07-01 09:24:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (5.2ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190995 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190995[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 13ms (Views: 9.3ms | ActiveRecord: 1.5ms)
  [1m[35m (26.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.coffee_is_in_place
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:27:37', '2019-07-01 09:27:37', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:27:37', '2019-07-01 09:27:37', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:27:37', '2019-07-01 09:27:37'), (298486374, '2019-07-01 09:27:37', '2019-07-01 09:27:37');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:27:37', '2019-07-01 09:27:37'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:27:37', '2019-07-01 09:27:37'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:27:37', '2019-07-01 09:27:37');
[0m
  [1m[35m (44.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.coffee_is_in_place
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:27:37', '2019-07-01 09:27:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (132.8ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190996 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190996[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
Completed 200 OK in 157ms (Views: 145.3ms | ActiveRecord: 1.8ms)
  [1m[35m (24.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.6ms)
  Rendered carts/_cart.html.erb (10.1ms)
  Rendered carts/show.html.erb within layouts/application (10.7ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.3ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/new.html.erb within layouts/application (1.9ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:27:37', '2019-07-01 09:27:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190997
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (56.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/edit.html.erb within layouts/application (1.1ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.9ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:27:37', '2019-07-01 09:27:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190977
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (22.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (21.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (5.9ms)
  Rendered products/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (20.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.9ms)
  Rendered products/edit.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (21.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (23.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:27:37', '2019-07-01 09:27:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190998 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190998, '2019-07-01 09:27:37', '2019-07-01 09:27:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (19.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.5ms)
  Rendered line_items/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.0ms)
  Rendered line_items/edit.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:27:37 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (3.1ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:28:16', '2019-07-01 09:28:16', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:28:16', '2019-07-01 09:28:16', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:28:16', '2019-07-01 09:28:16'), (298486374, '2019-07-01 09:28:16', '2019-07-01 09:28:16');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:28:16', '2019-07-01 09:28:16'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:28:16', '2019-07-01 09:28:16'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:28:16', '2019-07-01 09:28:16');
[0m
  [1m[35m (54.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:28:16 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 160ms (Views: 153.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:28:17', '2019-07-01 09:28:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190999
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (32.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.5ms)
  Rendered carts/edit.html.erb within layouts/application (2.3ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (8.9ms)
  Rendered carts/_cart.html.erb (16.3ms)
Completed 200 OK in 28ms (Views: 25.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.0ms)
  Rendered carts/_cart.html.erb (3.0ms)
  Rendered carts/show.html.erb within layouts/application (3.9ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.2ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:28:17', '2019-07-01 09:28:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191000 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191000, '2019-07-01 09:28:17', '2019-07-01 09:28:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (14.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.8ms)
  Rendered line_items/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.3ms)
  Rendered line_items/edit.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:28:17', '2019-07-01 09:28:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (7.9ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191001 LIMIT 1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191001[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 16ms (Views: 11.1ms | ActiveRecord: 2.5ms)
  [1m[35m (22.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.coffee_is_in_place
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (2.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-01 09:28:17' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 9ms (ActiveRecord: 4.0ms)
  [1m[35m (15.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (16.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.6ms)
  Rendered products/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (13.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:28:17', '2019-07-01 09:28:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190978
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (23.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:28:17 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.0ms)
  Rendered products/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[35m (2.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:32:10', '2019-07-01 09:32:10', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:32:10', '2019-07-01 09:32:10', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:32:10', '2019-07-01 09:32:10'), (298486374, '2019-07-01 09:32:10', '2019-07-01 09:32:10');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:32:10', '2019-07-01 09:32:10'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:32:10', '2019-07-01 09:32:10'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:32:10', '2019-07-01 09:32:10');
[0m
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 128ms (Views: 127.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:32:10', '2019-07-01 09:32:10')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191002
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (18.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.8ms)
  Rendered carts/new.html.erb within layouts/application (2.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.0ms)
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.0ms)
  [1m[35m (2.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.7ms)
  Rendered carts/edit.html.erb within layouts/application (1.3ms)
  [1m[36mLineItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (7.4ms)
  Rendered carts/_cart.html.erb (14.4ms)
Completed 200 OK in 20ms (Views: 17.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.0ms)
  Rendered carts/_cart.html.erb (2.6ms)
  Rendered carts/show.html.erb within layouts/application (3.1ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.2ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.7ms)
  Rendered line_items/edit.html.erb within layouts/application (7.5ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (14.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.2ms)
  Rendered line_items/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:32:10', '2019-07-01 09:32:10')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191003 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191003, '2019-07-01 09:32:10', '2019-07-01 09:32:10')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.coffee_is_in_place
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:32:10', '2019-07-01 09:32:10')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.4ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191004 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191004[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 2.3ms)
  [1m[35m (14.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (18.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.5ms)
  Rendered products/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:32:10', '2019-07-01 09:32:10')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190979
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (24.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (18.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.6ms)
  Rendered products/edit.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:32:10 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (1.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 2.7ms)
  [1m[35m (22.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:32:55', '2019-07-01 09:32:55', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:32:55', '2019-07-01 09:32:55', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:32:55', '2019-07-01 09:32:55'), (298486374, '2019-07-01 09:32:55', '2019-07-01 09:32:55');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:32:55', '2019-07-01 09:32:55'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:32:55', '2019-07-01 09:32:55'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:32:55', '2019-07-01 09:32:55');
[0m
  [1m[35m (48.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:32:55 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:32:55', '2019-07-01 09:32:55')[0m
  [1m[35m (3.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191005 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191005, '2019-07-01 09:32:56', '2019-07-01 09:32:56')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 5.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (33.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 137ms (Views: 135.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.3ms)
  Rendered line_items/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (25.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.2ms)
  Rendered line_items/edit.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (6.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:32:56', '2019-07-01 09:32:56')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191006
Completed 302 Found in 10ms (ActiveRecord: 6.5ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (20.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (2.0ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.2ms)
  Rendered carts/_cart.html.erb (6.9ms)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (2.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.2ms)
  Rendered carts/_cart.html.erb (3.2ms)
  Rendered carts/show.html.erb within layouts/application (4.3ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.2ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:32:56', '2019-07-01 09:32:56')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.9ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191007 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191007[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 1.4ms)
  [1m[35m (16.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:32:56', '2019-07-01 09:32:56')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190980
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (18.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (3.9ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 12ms (Views: 6.5ms | ActiveRecord: 3.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.5ms)
  Rendered products/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.1ms)
  Rendered products/edit.html.erb within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 1.8ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (4.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-01 09:32:56' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (20.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (24.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:32:56 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (22.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:33:22', '2019-07-01 09:33:22', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:33:22', '2019-07-01 09:33:22', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:33:22', '2019-07-01 09:33:22'), (298486374, '2019-07-01 09:33:22', '2019-07-01 09:33:22');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:33:22', '2019-07-01 09:33:22'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:33:22', '2019-07-01 09:33:22'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:33:22', '2019-07-01 09:33:22');
[0m
  [1m[35m (44.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:33:22 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:33:22', '2019-07-01 09:33:22')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190981
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (23.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:33:22 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (6.9ms)
  Rendered products/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 155ms (Views: 153.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 14ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (23.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (14.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.8ms)
  Rendered products/edit.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-01 09:33:23' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (16.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.3ms)
  Rendered line_items/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:33:23', '2019-07-01 09:33:23')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191008 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191008, '2019-07-01 09:33:23', '2019-07-01 09:33:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 3.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (14.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (14.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.2ms)
  Rendered line_items/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (5.1ms)
  Rendered carts/_cart.html.erb (9.0ms)
  Rendered carts/show.html.erb within layouts/application (10.0ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.2ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 15ms (Views: 11.6ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (1.8ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/edit.html.erb within layouts/application (1.7ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:33:23', '2019-07-01 09:33:23')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191009
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (19.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:33:23', '2019-07-01 09:33:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.4ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191010 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191010[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 1.5ms)
  [1m[35m (18.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:33:23 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:33:23', '2019-07-01 09:33:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.8ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191011 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191011[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 1.5ms)
  [1m[35m (18.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:34:25', '2019-07-01 09:34:25', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:34:25', '2019-07-01 09:34:25', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:34:25', '2019-07-01 09:34:25'), (298486374, '2019-07-01 09:34:25', '2019-07-01 09:34:25');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:34:25', '2019-07-01 09:34:25'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:34:25', '2019-07-01 09:34:25'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:34:25', '2019-07-01 09:34:25');
[0m
  [1m[35m (44.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.1ms)
  Rendered line_items/edit.html.erb within layouts/application (6.3ms)
Completed 200 OK in 127ms (Views: 120.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.1ms)
  Rendered line_items/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (8.6ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:34:25', '2019-07-01 09:34:25')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191012 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191012, '2019-07-01 09:34:25', '2019-07-01 09:34:25')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (15.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:34:25', '2019-07-01 09:34:25')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (7.0ms)
  [1m[36mLineItem Exists (6.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191013 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191013[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
Completed 200 OK in 22ms (Views: 12.1ms | ActiveRecord: 7.9ms)
  [1m[35m (41.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:34:25', '2019-07-01 09:34:25')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.6ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191014 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191014[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 1.9ms)
  [1m[35m (17.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (1.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:34:25', '2019-07-01 09:34:25')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191015
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (23.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/edit.html.erb within layouts/application (1.2ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.3ms)
  Rendered carts/_cart.html.erb (2.9ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.1ms)
  Rendered carts/_cart.html.erb (2.6ms)
  Rendered carts/show.html.erb within layouts/application (3.1ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.2ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (21.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.6ms)
  Rendered products/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (23.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:34:25', '2019-07-01 09:34:25')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190982
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (15.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (23.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:34:25 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.7ms)
  Rendered products/edit.html.erb within layouts/application (2.3ms)
Completed 200 OK in 26ms (Views: 24.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:34:47', '2019-07-01 09:34:47', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:34:47', '2019-07-01 09:34:47', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:34:47', '2019-07-01 09:34:47'), (298486374, '2019-07-01 09:34:47', '2019-07-01 09:34:47');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:34:47', '2019-07-01 09:34:47'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:34:47', '2019-07-01 09:34:47'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:34:47', '2019-07-01 09:34:47');
[0m
  [1m[35m (23.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.8ms)
  Rendered carts/new.html.erb within layouts/application (3.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.0ms)
Completed 200 OK in 157ms (Views: 151.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:34:47', '2019-07-01 09:34:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191016
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (18.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/edit.html.erb within layouts/application (1.2ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (7.3ms)
  Rendered carts/_cart.html.erb (15.0ms)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.0ms)
  Rendered carts/_cart.html.erb (2.4ms)
  Rendered carts/show.html.erb within layouts/application (2.8ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.2ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:34:47', '2019-07-01 09:34:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191017 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191017, '2019-07-01 09:34:47', '2019-07-01 09:34:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (19.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (12.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.6ms)
  Rendered line_items/new.html.erb within layouts/application (6.5ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.5ms)
  Rendered line_items/edit.html.erb within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by StoreController#index as HTML
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:34:47', '2019-07-01 09:34:47')[0m
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.7ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191018 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191018[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 17ms (Views: 9.7ms | ActiveRecord: 4.1ms)
  [1m[35m (25.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:34:47', '2019-07-01 09:34:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.7ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191019 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191019[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 1.4ms)
  [1m[35m (20.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:34:47', '2019-07-01 09:34:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190983
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (19.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (20.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (24.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (6.7ms)
  Rendered products/new.html.erb within layouts/application (8.9ms)
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.7ms)
  Rendered products/edit.html.erb within layouts/application (6.2ms)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 12ms (ActiveRecord: 5.2ms)
  [1m[35m (21.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:34:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:36:28', '2019-07-01 09:36:28', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:36:28', '2019-07-01 09:36:28', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:36:28', '2019-07-01 09:36:28'), (298486374, '2019-07-01 09:36:28', '2019-07-01 09:36:28');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:36:28', '2019-07-01 09:36:28'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:36:28', '2019-07-01 09:36:28'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:36:28', '2019-07-01 09:36:28');
[0m
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 18ms (ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (20.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (16.9ms)
  Rendered products/new.html.erb within layouts/application (19.6ms)
Completed 200 OK in 172ms (Views: 170.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.6ms)
  Rendered products/edit.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (19.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:36:28', '2019-07-01 09:36:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190984
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (22.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (2.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 3.0ms)
  [1m[35m (23.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:36:28', '2019-07-01 09:36:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191020
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (21.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.5ms)
  Rendered carts/edit.html.erb within layouts/application (2.9ms)
  [1m[36mLineItem Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.0ms)
  Rendered carts/_cart.html.erb (7.5ms)
Completed 200 OK in 20ms (Views: 14.8ms | ActiveRecord: 3.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.0ms)
  Rendered carts/_cart.html.erb (4.3ms)
  Rendered carts/show.html.erb within layouts/application (4.9ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.2ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:36:28 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:36:28', '2019-07-01 09:36:28')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191021 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (39.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191021, '2019-07-01 09:36:28', '2019-07-01 09:36:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 48ms (ActiveRecord: 41.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (19.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:36:29 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (17.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:36:29 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (3.5ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:36:29 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:36:29 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.3ms)
  Rendered line_items/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:36:29 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:36:29', '2019-07-01 09:36:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (5.1ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191022 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191022[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 1.7ms)
  [1m[35m (15.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:36:29 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:36:29', '2019-07-01 09:36:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.8ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191023 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191023[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 1.8ms)
  [1m[35m (16.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:37:20', '2019-07-01 09:37:20', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:37:20', '2019-07-01 09:37:20', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:37:20', '2019-07-01 09:37:20'), (298486374, '2019-07-01 09:37:20', '2019-07-01 09:37:20');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:37:20', '2019-07-01 09:37:20'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:37:20', '2019-07-01 09:37:20'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:37:20', '2019-07-01 09:37:20');
[0m
  [1m[35m (63.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:37:20 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:37:20', '2019-07-01 09:37:20')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (151.6ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191024 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191024[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 175ms (Views: 163.5ms | ActiveRecord: 1.5ms)
  [1m[35m (18.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:37:20 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:37:20', '2019-07-01 09:37:20')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.6ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191025 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191025[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 1.2ms)
  [1m[35m (20.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:37:20 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:37:20 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (36.5ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 50ms (ActiveRecord: 38.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (18.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:37:20 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (14.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:37:20 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (21.1ms)
  Rendered products/edit.html.erb within layouts/application (23.6ms)
Completed 200 OK in 30ms (Views: 26.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:37:20 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (42.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:37:21', '2019-07-01 09:37:21')[0m
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190985
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (24.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.5ms)
  Rendered products/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 4ms (ActiveRecord: 2.1ms)
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (23.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (7.9ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 1.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:37:21', '2019-07-01 09:37:21')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191026 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191026, '2019-07-01 09:37:21', '2019-07-01 09:37:21')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (16.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.3ms)
  Rendered line_items/edit.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/edit.html.erb within layouts/application (2.2ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (3.3ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:37:21', '2019-07-01 09:37:21')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191027
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (62.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.9ms)
  Rendered carts/_cart.html.erb (2.4ms)
  Rendered carts/show.html.erb within layouts/application (2.9ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.2ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.5ms)
  Rendered carts/new.html.erb within layouts/application (1.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:37:21 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:38:38', '2019-07-01 09:38:38', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:38:38', '2019-07-01 09:38:38', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:38:38', '2019-07-01 09:38:38'), (298486374, '2019-07-01 09:38:38', '2019-07-01 09:38:38');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:38:38', '2019-07-01 09:38:38'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:38:38', '2019-07-01 09:38:38'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:38:38', '2019-07-01 09:38:38');
[0m
  [1m[35m (44.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:38:39', '2019-07-01 09:38:39')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (124.4ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191028 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191028[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 147ms (Views: 135.7ms | ActiveRecord: 1.6ms)
  [1m[35m (24.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:38:39', '2019-07-01 09:38:39')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.5ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191029 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191029[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 1.2ms)
  [1m[35m (19.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:38:39', '2019-07-01 09:38:39')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190986
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (18.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (6.1ms)
  Rendered products/edit.html.erb within layouts/application (7.1ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.0ms)
  Rendered products/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 11ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (20.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (19.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-01 09:38:39' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (14.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.0ms)
  Rendered line_items/edit.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.1ms)
  Rendered line_items/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:38:39', '2019-07-01 09:38:39')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191030 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191030, '2019-07-01 09:38:39', '2019-07-01 09:38:39')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 3.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (19.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (3.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (1.9ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.8ms)
  Rendered carts/_cart.html.erb (5.0ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:38:39', '2019-07-01 09:38:39')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191031
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (15.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.4ms)
  Rendered carts/_cart.html.erb (4.3ms)
  Rendered carts/show.html.erb within layouts/application (4.9ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.3ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:38:39 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:39:08', '2019-07-01 09:39:08', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:39:08', '2019-07-01 09:39:08', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:39:08', '2019-07-01 09:39:08'), (298486374, '2019-07-01 09:39:08', '2019-07-01 09:39:08');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:39:08', '2019-07-01 09:39:08'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:39:08', '2019-07-01 09:39:08'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:39:08', '2019-07-01 09:39:08');
[0m
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:39:08 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.1ms)
  Rendered line_items/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 127ms (Views: 121.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:39:08 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:39:08 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (16.6ms)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:39:08 +0700
Processing by LineItemsController#create as JS
  Parameters: {"line_item"=>{"product_id"=>"207281424"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:39:09', '2019-07-01 09:39:09')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (14.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.2ms)
  Rendered line_items/edit.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:39:09', '2019-07-01 09:39:09')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191033 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191033, '2019-07-01 09:39:09', '2019-07-01 09:39:09')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (15.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:39:09', '2019-07-01 09:39:09')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (8.7ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191034 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191034[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 17ms (Views: 13.4ms | ActiveRecord: 1.6ms)
  [1m[35m (23.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:39:09', '2019-07-01 09:39:09')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.8ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191035 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191035[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 1.4ms)
  [1m[35m (19.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.3ms)
  Rendered products/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.8ms)
  Rendered products/edit.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-01 09:39:09' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
  [1m[35m (18.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (23.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (23.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:39:09', '2019-07-01 09:39:09')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190987
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (23.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:39:09', '2019-07-01 09:39:09')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191036
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (17.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (1.9ms)
  [1m[36mLineItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.3ms)
  Rendered carts/_cart.html.erb (5.3ms)
Completed 200 OK in 12ms (Views: 8.1ms | ActiveRecord: 2.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:39:09 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (3.8ms)
  Rendered carts/show.html.erb within layouts/application (4.4ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.3ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`) VALUES (980190962, 298486374, 980190962, '2019-07-01 09:39:47', '2019-07-01 09:39:47', DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 09:39:47', '2019-07-01 09:39:47', DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 09:39:47', '2019-07-01 09:39:47'), (298486374, '2019-07-01 09:39:47', '2019-07-01 09:39:47');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:39:47', '2019-07-01 09:39:47'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 09:39:47', '2019-07-01 09:39:47'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 09:39:47', '2019-07-01 09:39:47');
[0m
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:39:47 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:39:47', '2019-07-01 09:39:47')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (150.4ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191037 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191037[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 176ms (Views: 161.9ms | ActiveRecord: 2.0ms)
  [1m[35m (18.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 16:39:47 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:39:47', '2019-07-01 09:39:47')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (9.5ms)
  [1m[36mLineItem Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191038 LIMIT 1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191038[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.9ms)
Completed 200 OK in 27ms (Views: 16.2ms | ActiveRecord: 6.2ms)
  [1m[35m (18.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (6.9ms)
  Rendered products/new.html.erb within layouts/application (7.9ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-01 09:39:48' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (9.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 16ms (ActiveRecord: 5.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (21.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 09:39:48', '2019-07-01 09:39:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190988
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (19.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.7ms)
  Rendered products/edit.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (14.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.5ms)
  Rendered carts/_cart.html.erb (6.2ms)
  Rendered carts/show.html.erb within layouts/application (6.8ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.3ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (1.8ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.7ms)
  Rendered carts/edit.html.erb within layouts/application (1.4ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.1ms)
  Rendered carts/_cart.html.erb (2.3ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:39:48', '2019-07-01 09:39:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191039
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (18.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:39:48', '2019-07-01 09:39:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191040 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191040, '2019-07-01 09:39:48', '2019-07-01 09:39:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 3.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (17.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 09:39:48', '2019-07-01 09:39:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191041 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191041, '2019-07-01 09:39:48', '2019-07-01 09:39:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191041[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.1ms)
  Rendered carts/_cart.html.erb (4.4ms)
  Rendered line_items/create.js.erb (5.5ms)
Completed 200 OK in 15ms (Views: 6.2ms | ActiveRecord: 2.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (16.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.2ms)
  Rendered line_items/edit.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 16:39:48 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (211.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `carts` CASCADE[0m
  [1m[35m (171.7ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `line_items` CASCADE[0m
  [1m[35m (81.2ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint, `cart_id` bigint, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `quantity` int DEFAULT 1, `order_id` bigint,  INDEX `index_line_items_on_cart_id`  (`cart_id`),  INDEX `index_line_items_on_order_id`  (`order_id`),  INDEX `index_line_items_on_product_id`  (`product_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `orders` CASCADE[0m
  [1m[35m (52.4ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `products` CASCADE[0m
  [1m[35m (57.8ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (187.7ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
[0m
  [1m[35m (183.7ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (286.1ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (68.8ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (6.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20190701095122)[0m
  [1m[35m (12.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20190628092822),
(20190628092030),
(20190628045938),
(20190627043610),
(20190701095114),
(20190628045354);

[0m
  [1m[35m (61.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'test', '2019-07-01 10:04:50', '2019-07-01 10:04:50')[0m
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 298486374, 980190962, '2019-07-01 10:04:50', '2019-07-01 10:04:50', DEFAULT, DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 10:04:50', '2019-07-01 10:04:50', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 10:04:50', '2019-07-01 10:04:50'), (298486374, '2019-07-01 10:04:50', '2019-07-01 10:04:50');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-01 10:04:50', '2019-07-01 10:04:50'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-01 10:04:50', '2019-07-01 10:04:50');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 10:04:50', '2019-07-01 10:04:50'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 10:04:50', '2019-07-01 10:04:50'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 10:04:50', '2019-07-01 10:04:50');
[0m
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:04:50', '2019-07-01 10:04:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (9.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.6ms)
  Rendered carts/edit.html.erb within layouts/application (2.9ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (8.4ms)
  Rendered carts/_cart.html.erb (16.2ms)
Completed 200 OK in 270ms (Views: 266.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.5ms)
  Rendered carts/new.html.erb within layouts/application (1.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.2ms)
  Rendered carts/_cart.html.erb (2.7ms)
  Rendered carts/show.html.erb within layouts/application (3.2ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.3ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (6.2ms)
  Rendered products/new.html.erb within layouts/application (7.0ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 10:04:50', '2019-07-01 10:04:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (13.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (6.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (6.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (21.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (27.4ms)
Completed 200 OK in 30ms (Views: 28.8ms | ActiveRecord: 0.3ms)
  [1m[35m (2.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.7ms)
  Rendered products/edit.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:04:50', '2019-07-01 10:04:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (5.0ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 14ms (Views: 8.1ms | ActiveRecord: 1.7ms)
  [1m[35m (23.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 17:04:50 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:04:50', '2019-07-01 10:04:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.8ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 1.3ms)
  [1m[35m (19.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:04:51', '2019-07-01 10:04:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190966 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190966, '2019-07-01 10:04:51', '2019-07-01 10:04:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190966[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.7ms)
  Rendered carts/_cart.html.erb (3.7ms)
  Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 15ms (Views: 6.9ms | ActiveRecord: 2.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:04:51', '2019-07-01 10:04:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190967 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190967, '2019-07-01 10:04:51', '2019-07-01 10:04:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (11.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (4.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (6.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.3ms)
  Rendered line_items/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:04:51', '2019-07-01 10:04:51')[0m
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190968 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"MyString"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:04:51', '2019-07-01 10:04:51')[0m
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('MyString', 'MyText', 'MyString', 'MyString', '2019-07-01 10:04:51', '2019-07-01 10:04:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` ORDER BY `orders`.`id` DESC LIMIT 1[0m
  [1m[35m (6.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (3.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 6ms (ActiveRecord: 4.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (6.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.6ms)
  Rendered orders/edit.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-01 17:04:51 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"MyString"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:04:51', '2019-07-01 10:04:51')[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190970, '2019-07-01 10:04:51', '2019-07-01 10:04:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (5.7ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 298486374, 980190962, '2019-07-01 10:06:24', '2019-07-01 10:06:24', DEFAULT, DEFAULT), (298486374, 298486374, 298486374, '2019-07-01 10:06:24', '2019-07-01 10:06:24', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-01 10:06:24', '2019-07-01 10:06:24'), (298486374, '2019-07-01 10:06:24', '2019-07-01 10:06:24');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-01 10:06:24', '2019-07-01 10:06:24'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-01 10:06:24', '2019-07-01 10:06:24');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 10:06:24', '2019-07-01 10:06:24'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-01 10:06:24', '2019-07-01 10:06:24'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-01 10:06:24', '2019-07-01 10:06:24');
[0m
  [1m[35m (28.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190971 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190971, '2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190971[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.1ms)
  Rendered carts/_cart.html.erb (6.1ms)
  Rendered line_items/create.js.erb (7.4ms)
Completed 200 OK in 31ms (Views: 9.6ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (5.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190972 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190972, '2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (5.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.4ms)
  Rendered line_items/new.html.erb within layouts/application (6.5ms)
Completed 200 OK in 123ms (Views: 122.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.2ms)
  Rendered line_items/edit.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (4.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (7.2ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190973 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190973[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 16ms (Views: 11.3ms | ActiveRecord: 1.7ms)
  [1m[35m (8.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.4ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190974 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190974[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 1.5ms)
  [1m[35m (8.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 298486374[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (6.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190964
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (7.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.6ms)
  Rendered products/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (6.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (6.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.6ms)
  Rendered products/edit.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (4.0ms)
  Rendered carts/show.html.erb within layouts/application (4.7ms)
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.5ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/new.html.erb within layouts/application (1.8ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190975
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (6.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (1.7ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.1ms)
  Rendered carts/_cart.html.erb (2.3ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190976, '2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190977 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (6.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (1.9ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"MyString"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('MyString', 'MyText', 'MyString', 'MyString', '2019-07-01 10:06:24', '2019-07-01 10:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190964
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` ORDER BY `orders`.`id` DESC LIMIT 1[0m
  [1m[35m (6.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (15.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.3ms)
  Rendered orders/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-01 17:06:24 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"MyString"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 02:33:27', '2019-07-02 02:33:27', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 02:33:27', '2019-07-02 02:33:27', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 02:33:27', '2019-07-02 02:33:27'), (298486374, '2019-07-02 02:33:27', '2019-07-02 02:33:27');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:33:27', '2019-07-02 02:33:27'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 02:33:27', '2019-07-02 02:33:27');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:33:27', '2019-07-02 02:33:27'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:33:27', '2019-07-02 02:33:27'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 02:33:27', '2019-07-02 02:33:27');
[0m
  [1m[35m (43.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 09:33:27 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (16.1ms)
Completed 200 OK in 290ms (Views: 282.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.8ms)
  Rendered line_items/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/edit.html.erb within layouts/application (2.5ms)
Completed 200 OK in 11ms (Views: 4.6ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.0ms)
  Rendered line_items/edit.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:33:28', '2019-07-02 02:33:28')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190963 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.4ms)
  Rendered line_items/new.html.erb within layouts/application (1.6ms)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190963[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.1ms)
  Rendered carts/_cart.html.erb (7.6ms)
Completed 200 OK in 23ms (Views: 11.4ms | ActiveRecord: 2.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (35.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:33:28', '2019-07-02 02:33:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.3ms)
  Rendered line_items/new.html.erb within layouts/application (1.5ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.3ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 12ms (Views: 4.2ms | ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (15.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (15.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.0ms)
  Rendered products/edit.html.erb within layouts/application (5.4ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 02:33:28', '2019-07-02 02:33:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (14.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.6ms)
  Rendered products/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 02:33:28' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (20.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (23.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (14.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.5ms)
  Rendered orders/edit.html.erb within layouts/application (4.7ms)
Completed 200 OK in 17ms (Views: 6.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:33:28', '2019-07-02 02:33:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (28.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:33:28', '2019-07-02 02:33:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190966[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:33:28', '2019-07-02 02:33:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190966[0m
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980190966[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (21.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (17.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (2.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (3.0ms)
  Rendered carts/_cart.html.erb (4.7ms)
  Rendered carts/show.html.erb within layouts/application (5.3ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.5ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:33:28', '2019-07-02 02:33:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190967
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (21.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.7ms)
  Rendered carts/edit.html.erb within layouts/application (1.3ms)
  [1m[36mLineItem Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (2.3ms)
  Rendered carts/_cart.html.erb (3.9ms)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:33:28', '2019-07-02 02:33:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.0ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190968 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190968[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 1.5ms)
  [1m[35m (15.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:33:28 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:33:28', '2019-07-02 02:33:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.8ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190969 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190969[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 1.4ms)
  [1m[35m (20.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 02:44:47', '2019-07-02 02:44:47', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 02:44:47', '2019-07-02 02:44:47', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 02:44:47', '2019-07-02 02:44:47'), (298486374, '2019-07-02 02:44:47', '2019-07-02 02:44:47');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:44:47', '2019-07-02 02:44:47'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 02:44:47', '2019-07-02 02:44:47');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:44:47', '2019-07-02 02:44:47'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:44:47', '2019-07-02 02:44:47'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 02:44:47', '2019-07-02 02:44:47');
[0m
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (5.9ms)
  Rendered products/new.html.erb within layouts/application (7.0ms)
Completed 200 OK in 123ms (Views: 117.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (12.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (5.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.9ms)
  Rendered products/edit.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (6.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 02:44:47', '2019-07-02 02:44:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190964
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (6.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/edit.html.erb within layouts/application (1.9ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (5.4ms)
  Rendered carts/_cart.html.erb (15.8ms)
Completed 200 OK in 24ms (Views: 20.7ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (1.6ms)
  Rendered carts/_cart.html.erb (3.3ms)
  Rendered carts/show.html.erb within layouts/application (3.8ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.4ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:44:47', '2019-07-02 02:44:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190970
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (6.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.7ms)
  Rendered carts/new.html.erb within layouts/application (1.4ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:44:47', '2019-07-02 02:44:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.1ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190971 LIMIT 1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190971[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 1.6ms)
  [1m[35m (6.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:44:47', '2019-07-02 02:44:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.5ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190972 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190972[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 1.3ms)
  [1m[35m (6.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:44:47', '2019-07-02 02:44:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190973 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (6.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:44:47', '2019-07-02 02:44:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190974[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:44:47', '2019-07-02 02:44:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190974[0m
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980190974[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 2.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (6.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (6.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (2.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 9ms (ActiveRecord: 3.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (7.5ms)
  Rendered orders/edit.html.erb within layouts/application (8.6ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 09:44:47 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:44:48 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:44:48', '2019-07-02 02:44:48')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190975 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.2ms)
  Rendered line_items/new.html.erb within layouts/application (3.1ms)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190975[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.2ms)
  Rendered carts/_cart.html.erb (3.5ms)
Completed 200 OK in 18ms (Views: 8.7ms | ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (6.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:44:48 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (6.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 09:44:48 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.2ms)
  Rendered line_items/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:44:48 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:44:48', '2019-07-02 02:44:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190976 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (21.7ms)
  Rendered line_items/new.html.erb within layouts/application (22.0ms)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190976[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.3ms)
  Rendered carts/_cart.html.erb (2.1ms)
Completed 200 OK in 32ms (Views: 25.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (6.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 09:44:48 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:44:48 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.4ms)
  Rendered line_items/edit.html.erb within layouts/application (1.8ms)
Completed 200 OK in 7ms (Views: 3.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:44:48 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 09:44:48 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.2ms)
  Rendered line_items/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 02:50:47', '2019-07-02 02:50:47', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 02:50:47', '2019-07-02 02:50:47', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 02:50:47', '2019-07-02 02:50:47'), (298486374, '2019-07-02 02:50:47', '2019-07-02 02:50:47');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:50:47', '2019-07-02 02:50:47'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 02:50:47', '2019-07-02 02:50:47');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:50:47', '2019-07-02 02:50:47'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:50:47', '2019-07-02 02:50:47'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 02:50:47', '2019-07-02 02:50:47');
[0m
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 13ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (24.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (6.0ms)
  Rendered products/edit.html.erb within layouts/application (7.2ms)
Completed 200 OK in 127ms (Views: 125.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (18.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 02:50:48', '2019-07-02 02:50:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190965
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (24.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.5ms)
  Rendered products/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 02:50:48' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (21.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:50:48', '2019-07-02 02:50:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190977 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (22.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:50:48', '2019-07-02 02:50:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190978[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:50:48', '2019-07-02 02:50:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190978 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190978[0m
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980190978[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (20.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (24.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (5.5ms)
  Rendered orders/edit.html.erb within layouts/application (7.6ms)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:50:48', '2019-07-02 02:50:48')[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190979, '2019-07-02 02:50:48', '2019-07-02 02:50:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (14.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:50:48', '2019-07-02 02:50:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190980 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190980, '2019-07-02 02:50:48', '2019-07-02 02:50:48')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (21.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (19.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (12.7ms)
Completed 200 OK in 19ms (Views: 14.8ms | ActiveRecord: 2.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.0ms)
  Rendered line_items/edit.html.erb within layouts/application (3.1ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:50:48', '2019-07-02 02:50:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190981 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190981, '2019-07-02 02:50:48', '2019-07-02 02:50:48')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190981[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.2ms)
  Rendered carts/_cart.html.erb (7.1ms)
  Rendered line_items/create.js.erb (8.1ms)
Completed 200 OK in 18ms (Views: 8.8ms | ActiveRecord: 3.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (14.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 09:50:48 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.2ms)
  Rendered line_items/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:50:49 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (4.3ms)
  Rendered carts/_cart.html.erb (7.2ms)
  Rendered carts/show.html.erb within layouts/application (8.3ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.5ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:50:49 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 09:50:49 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 09:50:49 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/new.html.erb within layouts/application (2.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:50:49 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 09:50:49 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:50:49', '2019-07-02 02:50:49')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190982
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (23.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 09:50:49 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/edit.html.erb within layouts/application (1.1ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (1.6ms)
  Rendered carts/_cart.html.erb (2.8ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:50:49 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:50:49', '2019-07-02 02:50:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (25.2ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190983 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190983[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 32ms (Views: 28.3ms | ActiveRecord: 1.7ms)
  [1m[35m (18.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:50:49 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:50:49', '2019-07-02 02:50:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.6ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190984 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190984[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 1.3ms)
  [1m[35m (20.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 02:53:45', '2019-07-02 02:53:45', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 02:53:45', '2019-07-02 02:53:45', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 02:53:45', '2019-07-02 02:53:45'), (298486374, '2019-07-02 02:53:45', '2019-07-02 02:53:45');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:53:45', '2019-07-02 02:53:45'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 02:53:45', '2019-07-02 02:53:45');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:53:45', '2019-07-02 02:53:45'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:53:45', '2019-07-02 02:53:45'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 02:53:45', '2019-07-02 02:53:45');
[0m
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.8ms)
  Rendered carts/edit.html.erb within layouts/application (3.1ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (8.8ms)
  Rendered carts/_cart.html.erb (16.1ms)
Completed 200 OK in 165ms (Views: 158.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (1.5ms)
  Rendered carts/_cart.html.erb (3.0ms)
  Rendered carts/show.html.erb within layouts/application (3.4ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.4ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:53:45', '2019-07-02 02:53:45')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190985
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (27.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:53:45', '2019-07-02 02:53:45')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.0ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190986 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190986[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 14ms (Views: 10.1ms | ActiveRecord: 1.5ms)
  [1m[35m (22.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:53:45', '2019-07-02 02:53:45')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.9ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190987 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190987[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 1.5ms)
  [1m[35m (18.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (20.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 02:53:45', '2019-07-02 02:53:45')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190966
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (16.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (16.9ms)
  Rendered products/edit.html.erb within layouts/application (19.4ms)
Completed 200 OK in 26ms (Views: 21.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.8ms)
  Rendered products/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (14.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (24.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:53:45 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.6ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 10ms (ActiveRecord: 2.3ms)
  [1m[35m (20.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (6.2ms)
  Rendered orders/edit.html.erb within layouts/application (7.4ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:53:46', '2019-07-02 02:53:46')[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190988, '2019-07-02 02:53:46', '2019-07-02 02:53:46')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders/new?session[cart_id]=980190988" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by OrdersController#new as HTML
  Parameters: {"session"=>{"cart_id"=>"980190988"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:53:46', '2019-07-02 02:53:46')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190989 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (19.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:53:46', '2019-07-02 02:53:46')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190990 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (14.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:53:46', '2019-07-02 02:53:46')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190991[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:53:46', '2019-07-02 02:53:46')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190991 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190991[0m
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980190991[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 2.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (22.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 28ms (Views: 26.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:53:46', '2019-07-02 02:53:46')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190992 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190992, '2019-07-02 02:53:46', '2019-07-02 02:53:46')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190992[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.7ms)
  Rendered carts/_cart.html.erb (3.1ms)
  Rendered line_items/create.js.erb (4.1ms)
Completed 200 OK in 12ms (Views: 4.9ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (17.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:53:46', '2019-07-02 02:53:46')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190993 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190993, '2019-07-02 02:53:46', '2019-07-02 02:53:46')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 4.2ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.1ms)
  Rendered line_items/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:53:46 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (3.5ms)
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (3.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 02:56:35', '2019-07-02 02:56:35', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 02:56:35', '2019-07-02 02:56:35', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 02:56:35', '2019-07-02 02:56:35'), (298486374, '2019-07-02 02:56:35', '2019-07-02 02:56:35');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:56:35', '2019-07-02 02:56:35'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 02:56:35', '2019-07-02 02:56:35');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:56:35', '2019-07-02 02:56:35'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:56:35', '2019-07-02 02:56:35'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 02:56:35', '2019-07-02 02:56:35');
[0m
  [1m[35m (44.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 09:56:35 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.1ms)
  Rendered carts/new.html.erb within layouts/application (3.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.9ms)
Completed 200 OK in 149ms (Views: 143.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 09:56:35 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:56:35', '2019-07-02 02:56:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190994
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (24.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:56:35 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (3.0ms)
  Rendered carts/_cart.html.erb (10.9ms)
  Rendered carts/show.html.erb within layouts/application (11.3ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.5ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:56:35 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 09:56:35 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.7ms)
  Rendered carts/edit.html.erb within layouts/application (1.4ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (3.0ms)
  Rendered carts/_cart.html.erb (4.6ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (7.6ms)
  Rendered line_items/edit.html.erb within layouts/application (8.7ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.3ms)
  Rendered line_items/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190995 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190995, '2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 2.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (21.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (17.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 16ms (Views: 11.7ms | ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190996 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190996, '2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190996[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.3ms)
  Rendered carts/_cart.html.erb (6.4ms)
  Rendered line_items/create.js.erb (7.9ms)
Completed 200 OK in 26ms (Views: 9.0ms | ActiveRecord: 4.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (16.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 02:56:36' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (15.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (23.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (15.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190967
Completed 302 Found in 8ms (ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (19.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (7.1ms)
  Rendered products/edit.html.erb within layouts/application (9.6ms)
Completed 200 OK in 16ms (Views: 12.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.1ms)
  Rendered products/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (12.3ms)
  [1m[36mLineItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190997 LIMIT 1[0m
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190997[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.9ms)
Completed 200 OK in 31ms (Views: 21.5ms | ActiveRecord: 4.2ms)
  [1m[35m (23.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (9.5ms)
  [1m[36mLineItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190998 LIMIT 1[0m
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190998[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.4ms)
Completed 200 OK in 24ms (Views: 16.5ms | ActiveRecord: 3.9ms)
  [1m[35m (18.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190999 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (21.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191000, '2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders/new?session[cart_id]=980191000" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by OrdersController#new as HTML
  Parameters: {"session"=>{"cart_id"=>"980191000"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191001 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (15.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191002[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:56:36', '2019-07-02 02:56:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191002 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191002[0m
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191002[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 3.6ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (24.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (14.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 09:56:36 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (5.4ms)
  Rendered orders/edit.html.erb within layouts/application (6.5ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 02:59:56', '2019-07-02 02:59:56', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 02:59:56', '2019-07-02 02:59:56', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 02:59:56', '2019-07-02 02:59:56'), (298486374, '2019-07-02 02:59:56', '2019-07-02 02:59:56');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:59:56', '2019-07-02 02:59:56'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 02:59:56', '2019-07-02 02:59:56');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:59:56', '2019-07-02 02:59:56'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 02:59:56', '2019-07-02 02:59:56'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 02:59:56', '2019-07-02 02:59:56');
[0m
  [1m[35m (44.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191003 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191003, '2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191003[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (5.1ms)
  Rendered carts/_cart.html.erb (9.4ms)
  Rendered line_items/create.js.erb (11.2ms)
Completed 200 OK in 42ms (Views: 15.3ms | ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (16.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (23.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 15ms (ActiveRecord: 2.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (16.1ms)
  Rendered line_items/new.html.erb within layouts/application (20.8ms)
Completed 200 OK in 138ms (Views: 134.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.1ms)
  Rendered line_items/edit.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191004 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191004, '2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (14.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 02:59:57' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (23.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190968
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (16.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.8ms)
  Rendered products/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.5ms)
  Rendered products/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (20.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.3ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191005 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191005[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 1.6ms)
  [1m[35m (15.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.0ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191006 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191006[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 12ms (Views: 7.3ms | ActiveRecord: 2.7ms)
  [1m[35m (16.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.4ms)
  Rendered carts/new.html.erb within layouts/application (2.5ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/edit.html.erb within layouts/application (1.2ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (4.1ms)
  Rendered carts/_cart.html.erb (6.3ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (1.7ms)
  Rendered carts/_cart.html.erb (3.3ms)
  Rendered carts/show.html.erb within layouts/application (3.8ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.4ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191007
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (20.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (16.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191008, '2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders/new?session[cart_id]=980191008" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by OrdersController#new as HTML
  Parameters: {"session"=>{"cart_id"=>"980191008"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191009 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (19.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 09:59:57 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191010[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 02:59:57', '2019-07-02 02:59:57')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191010 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191010[0m
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191010[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 4.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (29.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 09:59:58 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 09:59:58 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 02:59:58', '2019-07-02 02:59:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191011 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (9.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 09:59:58 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (11.0ms)
  Rendered orders/edit.html.erb within layouts/application (12.8ms)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 03:00:14', '2019-07-02 03:00:14', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 03:00:14', '2019-07-02 03:00:14', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 03:00:14', '2019-07-02 03:00:14'), (298486374, '2019-07-02 03:00:14', '2019-07-02 03:00:14');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:00:14', '2019-07-02 03:00:14'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 03:00:14', '2019-07-02 03:00:14');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:00:14', '2019-07-02 03:00:14'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:00:14', '2019-07-02 03:00:14'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 03:00:14', '2019-07-02 03:00:14');
[0m
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 10:00:14 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.0ms)
  Rendered carts/edit.html.erb within layouts/application (3.6ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (4.9ms)
  Rendered carts/_cart.html.erb (12.3ms)
Completed 200 OK in 160ms (Views: 151.8ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 10:00:14 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:00:14 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (1.5ms)
  Rendered carts/_cart.html.erb (2.9ms)
  Rendered carts/show.html.erb within layouts/application (3.4ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.4ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 10:00:14 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (1.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:00:14 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 10:00:14 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:00:14', '2019-07-02 03:00:14')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191012
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (17.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:00:14 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:00:14 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:00:14', '2019-07-02 03:00:14')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.4ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191013 LIMIT 1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191013[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 1.7ms)
  [1m[35m (19.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:00:14 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:00:14', '2019-07-02 03:00:14')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (9.3ms)
  [1m[36mLineItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191014 LIMIT 1[0m
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191014[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.2ms)
Completed 200 OK in 23ms (Views: 15.8ms | ActiveRecord: 3.3ms)
  [1m[35m (21.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 10:00:14 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:00:14', '2019-07-02 03:00:14')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191015 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35m (16.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:00:14 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 8ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (14.6ms)
  Rendered orders/edit.html.erb within layouts/application (17.1ms)
Completed 200 OK in 25ms (Views: 21.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:00:15', '2019-07-02 03:00:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191016[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:00:15', '2019-07-02 03:00:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191016 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191016[0m
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191016[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (19.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (25.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:00:15', '2019-07-02 03:00:15')[0m
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191017, '2019-07-02 03:00:15', '2019-07-02 03:00:15')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders/new?session[cart_id]=980191017" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by OrdersController#new as HTML
  Parameters: {"session"=>{"cart_id"=>"980191017"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:00:15', '2019-07-02 03:00:15')[0m
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191018 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
  [1m[35m (22.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:00:15', '2019-07-02 03:00:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191019 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191019, '2019-07-02 03:00:15', '2019-07-02 03:00:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (25.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (25.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/edit.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:00:15', '2019-07-02 03:00:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191020 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191020, '2019-07-02 03:00:15', '2019-07-02 03:00:15')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191020[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.0ms)
  Rendered carts/_cart.html.erb (5.0ms)
  Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 19ms (Views: 7.6ms | ActiveRecord: 2.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (16.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.2ms)
  Rendered products/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 27ms (Views: 26.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 03:00:15' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (24.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (15.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.8ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (21.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 03:00:15', '2019-07-02 03:00:15')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190969
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (21.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.5ms)
  Rendered products/edit.html.erb within layouts/application (6.1ms)
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 10:00:15 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 03:01:42', '2019-07-02 03:01:42', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 03:01:42', '2019-07-02 03:01:42', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 03:01:42', '2019-07-02 03:01:42'), (298486374, '2019-07-02 03:01:42', '2019-07-02 03:01:42');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:01:42', '2019-07-02 03:01:42'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 03:01:42', '2019-07-02 03:01:42');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:01:42', '2019-07-02 03:01:42'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:01:42', '2019-07-02 03:01:42'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 03:01:42', '2019-07-02 03:01:42');
[0m
  [1m[35m (44.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 10:01:42 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 16ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (14.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 10:01:42 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (11.8ms)
  Rendered products/new.html.erb within layouts/application (14.3ms)
Completed 200 OK in 145ms (Views: 143.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (22.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190970
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (16.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.6ms)
  Rendered products/edit.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 03:01:43' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (16.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 15ms (Views: 12.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.4ms)
  Rendered carts/new.html.erb within layouts/application (2.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.3ms)
Completed 200 OK in 14ms (Views: 13.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (4.1ms)
  Rendered carts/_cart.html.erb (15.3ms)
  Rendered carts/show.html.erb within layouts/application (16.0ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.5ms)
  Rendered carts/_cart.html.erb (1.7ms)
Completed 200 OK in 23ms (Views: 18.4ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191021
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (17.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/edit.html.erb within layouts/application (1.3ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (2.3ms)
  Rendered carts/_cart.html.erb (3.9ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/edit.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.1ms)
  Rendered line_items/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191022 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191022, '2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (25.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191023 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191023, '2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191023[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (7.9ms)
  Rendered line_items/create.js.erb (10.7ms)
Completed 200 OK in 31ms (Views: 13.2ms | ActiveRecord: 4.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.3ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191024 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191024[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 16ms (Views: 10.5ms | ActiveRecord: 2.0ms)
  [1m[35m (20.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.3ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191025 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191025[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 16ms (Views: 10.8ms | ActiveRecord: 2.2ms)
  [1m[35m (21.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191026, '2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders/new?session[cart_id]=980191026" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by OrdersController#new as HTML
  Parameters: {"session"=>{"cart_id"=>"980191026"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191027 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (18.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (25.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191028[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191028 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191028[0m
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191028[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 2.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (14.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (7.9ms)
  Rendered orders/edit.html.erb within layouts/application (9.7ms)
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:01:43', '2019-07-02 03:01:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191029 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (18.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:01:43 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 03:11:12', '2019-07-02 03:11:12', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 03:11:12', '2019-07-02 03:11:12', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 03:11:12', '2019-07-02 03:11:12'), (298486374, '2019-07-02 03:11:12', '2019-07-02 03:11:12');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:11:12', '2019-07-02 03:11:12'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 03:11:12', '2019-07-02 03:11:12');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:11:12', '2019-07-02 03:11:12'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:11:12', '2019-07-02 03:11:12'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 03:11:12', '2019-07-02 03:11:12');
[0m
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:11:13', '2019-07-02 03:11:13')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (142.6ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191030 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191030[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 165ms (Views: 153.8ms | ActiveRecord: 1.5ms)
  [1m[35m (27.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:11:13', '2019-07-02 03:11:13')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.5ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191031 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191031[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 1.4ms)
  [1m[35m (20.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:11:13', '2019-07-02 03:11:13')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191032 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35m (16.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (6.5ms)
  Rendered orders/edit.html.erb within layouts/application (7.4ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:11:13', '2019-07-02 03:11:13')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191033[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:11:13', '2019-07-02 03:11:13')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191033 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191033[0m
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191033[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 2.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (16.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.5ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 13ms (ActiveRecord: 2.9ms)
  [1m[35m (23.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.4ms)
  Rendered line_items/edit.html.erb within layouts/application (5.1ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (21.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.1ms)
  Rendered line_items/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:11:13', '2019-07-02 03:11:13')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191034 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191034, '2019-07-02 03:11:13', '2019-07-02 03:11:13')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191034[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.2ms)
  Rendered carts/_cart.html.erb (6.5ms)
  Rendered line_items/create.js.erb (7.7ms)
Completed 200 OK in 20ms (Views: 8.4ms | ActiveRecord: 2.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (21.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (5.4ms)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:11:13', '2019-07-02 03:11:13')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191035 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (2.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191035, '2019-07-02 03:11:13', '2019-07-02 03:11:13')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 6.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (6.2ms)
  Rendered carts/_cart.html.erb (11.6ms)
  Rendered carts/show.html.erb within layouts/application (13.0ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (1.1ms)
  Rendered carts/_cart.html.erb (2.5ms)
Completed 200 OK in 24ms (Views: 19.2ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:11:13', '2019-07-02 03:11:13')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191036
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (22.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.8ms)
  Rendered carts/new.html.erb within layouts/application (4.9ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.8ms)
  Rendered carts/edit.html.erb within layouts/application (3.3ms)
  [1m[36mLineItem Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (5.8ms)
  Rendered carts/_cart.html.erb (9.3ms)
Completed 200 OK in 22ms (Views: 16.7ms | ActiveRecord: 3.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 10:11:13 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.7ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 03:11:13' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)
  [1m[35m (17.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 10:11:14 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (6.1ms)
  Rendered products/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 10:11:14 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.6ms)
  Rendered products/edit.html.erb within layouts/application (6.0ms)
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 10:11:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 36ms (Views: 4.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 10:11:14 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 10:11:14 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 03:11:14', '2019-07-02 03:11:14')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190971
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (17.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 10:11:14 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (27.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 10:11:14 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (21.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 03:12:54', '2019-07-02 03:12:54', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 03:12:54', '2019-07-02 03:12:54', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 03:12:54', '2019-07-02 03:12:54'), (298486374, '2019-07-02 03:12:54', '2019-07-02 03:12:54');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:12:54', '2019-07-02 03:12:54'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 03:12:54', '2019-07-02 03:12:54');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:12:54', '2019-07-02 03:12:54'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:12:54', '2019-07-02 03:12:54'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 03:12:54', '2019-07-02 03:12:54');
[0m
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:12:54', '2019-07-02 03:12:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191037
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (24.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.7ms)
  Rendered carts/edit.html.erb within layouts/application (3.0ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (8.7ms)
  Rendered carts/_cart.html.erb (16.2ms)
Completed 200 OK in 168ms (Views: 165.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (2.6ms)
  Rendered carts/_cart.html.erb (5.5ms)
  Rendered carts/show.html.erb within layouts/application (6.7ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.4ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (21.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.0ms)
  Rendered line_items/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:12:54', '2019-07-02 03:12:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191038 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191038, '2019-07-02 03:12:54', '2019-07-02 03:12:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (16.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.1ms)
  Rendered line_items/edit.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:12:54', '2019-07-02 03:12:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191039 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191039, '2019-07-02 03:12:54', '2019-07-02 03:12:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191039[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.9ms)
  Rendered carts/_cart.html.erb (5.7ms)
  Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 16ms (Views: 8.7ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (18.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 10:12:54 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (23.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (9.1ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.3ms)
  Rendered products/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (19.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 03:12:55', '2019-07-02 03:12:55')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190972
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (22.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.1ms)
  Rendered products/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.6ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 03:12:55' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
  [1m[35m (24.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 10ms (ActiveRecord: 3.2ms)
  [1m[35m (21.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:12:55', '2019-07-02 03:12:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191040[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.1ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:12:55', '2019-07-02 03:12:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191040 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191040[0m
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191040[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (21.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:12:55', '2019-07-02 03:12:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191041 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (15.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (6.0ms)
  Rendered orders/edit.html.erb within layouts/application (27.2ms)
Completed 200 OK in 32ms (Views: 29.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:12:55', '2019-07-02 03:12:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.6ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191042 LIMIT 1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191042[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 1.5ms)
  [1m[35m (21.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:12:55 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:12:55', '2019-07-02 03:12:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.7ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191043 LIMIT 1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191043[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 1.3ms)
  [1m[35m (19.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 03:15:26', '2019-07-02 03:15:26', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 03:15:26', '2019-07-02 03:15:26', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 03:15:26', '2019-07-02 03:15:26'), (298486374, '2019-07-02 03:15:26', '2019-07-02 03:15:26');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:15:26', '2019-07-02 03:15:26'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 03:15:26', '2019-07-02 03:15:26');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:15:26', '2019-07-02 03:15:26'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:15:26', '2019-07-02 03:15:26'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 03:15:26', '2019-07-02 03:15:26');
[0m
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:15:26 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:26', '2019-07-02 03:15:26')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (145.5ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191044 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191044[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 168ms (Views: 157.0ms | ActiveRecord: 1.7ms)
  [1m[35m (6.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:27', '2019-07-02 03:15:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.6ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191045 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191045[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 1.5ms)
  [1m[35m (6.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (6.8ms)
  Rendered products/new.html.erb within layouts/application (7.8ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 03:15:27', '2019-07-02 03:15:27')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190973
Completed 302 Found in 8ms (ActiveRecord: 2.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (6.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (12.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (15.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 03:15:27' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (9.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (5.0ms)
  Rendered products/edit.html.erb within layouts/application (6.5ms)
Completed 200 OK in 13ms (Views: 9.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:27', '2019-07-02 03:15:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191046 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191046, '2019-07-02 03:15:27', '2019-07-02 03:15:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (5.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (5.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.0ms)
  Rendered line_items/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.2ms)
  Rendered line_items/edit.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (4.0ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:27', '2019-07-02 03:15:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191047 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191047, '2019-07-02 03:15:27', '2019-07-02 03:15:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191047[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.8ms)
  Rendered carts/_cart.html.erb (3.5ms)
  Rendered line_items/create.js.erb (4.5ms)
Completed 200 OK in 15ms (Views: 5.4ms | ActiveRecord: 2.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (5.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (17.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.0ms)
  Rendered orders/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:27', '2019-07-02 03:15:27')[0m
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191048 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)
  [1m[35m (14.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:27', '2019-07-02 03:15:27')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191049[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (1.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:15:27', '2019-07-02 03:15:27')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191049 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191049[0m
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191049[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 5.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (24.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:27', '2019-07-02 03:15:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (15.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:27', '2019-07-02 03:15:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191051
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (20.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.3ms)
  Rendered carts/edit.html.erb within layouts/application (2.5ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (3.9ms)
  Rendered carts/_cart.html.erb (5.8ms)
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.8ms)
  Rendered carts/new.html.erb within layouts/application (1.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:15:27 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (3.2ms)
  Rendered carts/_cart.html.erb (6.3ms)
  Rendered carts/show.html.erb within layouts/application (7.0ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.7ms)
  Rendered carts/_cart.html.erb (2.2ms)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 03:15:53', '2019-07-02 03:15:53', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 03:15:53', '2019-07-02 03:15:53', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 03:15:53', '2019-07-02 03:15:53'), (298486374, '2019-07-02 03:15:53', '2019-07-02 03:15:53');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:15:53', '2019-07-02 03:15:53'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 03:15:53', '2019-07-02 03:15:53');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:15:53', '2019-07-02 03:15:53'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:15:53', '2019-07-02 03:15:53'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 03:15:53', '2019-07-02 03:15:53');
[0m
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:15:53 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:54', '2019-07-02 03:15:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (143.9ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191052 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191052[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 168ms (Views: 155.8ms | ActiveRecord: 1.7ms)
  [1m[35m (8.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:54', '2019-07-02 03:15:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.5ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191053 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191053[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 1.2ms)
  [1m[35m (6.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:54', '2019-07-02 03:15:54')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191054[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:15:54', '2019-07-02 03:15:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191054 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191054[0m
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191054[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 3.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (6.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (6.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:54', '2019-07-02 03:15:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191055 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (8.1ms)
  Rendered orders/edit.html.erb within layouts/application (10.2ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (5.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.6ms)
  Rendered products/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 03:15:54', '2019-07-02 03:15:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190974
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (6.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (6.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 03:15:54' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (19.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.7ms)
  Rendered products/edit.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (2.1ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (2.5ms)
  Rendered carts/_cart.html.erb (4.2ms)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (3.5ms)
  Rendered carts/_cart.html.erb (5.6ms)
  Rendered carts/show.html.erb within layouts/application (6.1ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.5ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.5ms)
  Rendered carts/new.html.erb within layouts/application (1.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:54', '2019-07-02 03:15:54')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191056
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (21.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:54', '2019-07-02 03:15:54')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191057 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191057, '2019-07-02 03:15:54', '2019-07-02 03:15:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (24.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (19.9ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:15:54', '2019-07-02 03:15:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191058 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191058, '2019-07-02 03:15:54', '2019-07-02 03:15:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191058[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.9ms)
  Rendered carts/_cart.html.erb (4.5ms)
  Rendered line_items/create.js.erb (5.8ms)
Completed 200 OK in 15ms (Views: 6.9ms | ActiveRecord: 2.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (21.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.1ms)
  Rendered line_items/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:15:54 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (19.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 03:24:23', '2019-07-02 03:24:23', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 03:24:23', '2019-07-02 03:24:23', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 03:24:23', '2019-07-02 03:24:23'), (298486374, '2019-07-02 03:24:23', '2019-07-02 03:24:23');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:24:23', '2019-07-02 03:24:23'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 03:24:23', '2019-07-02 03:24:23');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:24:23', '2019-07-02 03:24:23'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:24:23', '2019-07-02 03:24:23'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 03:24:23', '2019-07-02 03:24:23');
[0m
  [1m[35m (44.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.6ms)
  Rendered carts/edit.html.erb within layouts/application (2.7ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (8.9ms)
  Rendered carts/_cart.html.erb (16.6ms)
Completed 200 OK in 144ms (Views: 136.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.5ms)
  Rendered carts/new.html.erb within layouts/application (1.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:24:24', '2019-07-02 03:24:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191059
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (19.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (2.4ms)
  Rendered carts/_cart.html.erb (4.2ms)
  Rendered carts/show.html.erb within layouts/application (4.9ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.5ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:24:24', '2019-07-02 03:24:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191060 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191060, '2019-07-02 03:24:24', '2019-07-02 03:24:24')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191060[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.7ms)
  Rendered carts/_cart.html.erb (3.4ms)
  Rendered line_items/create.js.erb (4.6ms)
Completed 200 OK in 17ms (Views: 5.8ms | ActiveRecord: 3.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (15.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:24:24', '2019-07-02 03:24:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191061 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191061, '2019-07-02 03:24:24', '2019-07-02 03:24:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.9ms)
  Rendered line_items/edit.html.erb within layouts/application (5.8ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.0ms)
  Rendered line_items/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (23.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.4ms)
  Rendered products/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (19.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 03:24:24', '2019-07-02 03:24:24')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190975
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (23.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (14.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.0ms)
  Rendered products/edit.html.erb within layouts/application (2.8ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 03:24:24' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (22.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:24:24', '2019-07-02 03:24:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.1ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191062 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191062[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 11ms (Views: 6.9ms | ActiveRecord: 1.3ms)
  [1m[35m (16.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:24:24', '2019-07-02 03:24:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.4ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191063 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191063[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 1.4ms)
  [1m[35m (18.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (25.9ms)
  Rendered orders/edit.html.erb within layouts/application (27.0ms)
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:24:24 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (19.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:24:25', '2019-07-02 03:24:25')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (14.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:24:25 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 10:24:25 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:24:25', '2019-07-02 03:24:25')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191065 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (15.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 10:24:25 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:24:25', '2019-07-02 03:24:25')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191066[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:24:25', '2019-07-02 03:24:25')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191066 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191066[0m
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191066[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 2.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (15.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:24:25 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 03:28:22', '2019-07-02 03:28:22', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 03:28:22', '2019-07-02 03:28:22', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 03:28:22', '2019-07-02 03:28:22'), (298486374, '2019-07-02 03:28:22', '2019-07-02 03:28:22');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:28:22', '2019-07-02 03:28:22'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 03:28:22', '2019-07-02 03:28:22');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:28:22', '2019-07-02 03:28:22'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:28:22', '2019-07-02 03:28:22'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 03:28:22', '2019-07-02 03:28:22');
[0m
  [1m[35m (44.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.9ms)
  Rendered line_items/edit.html.erb within layouts/application (7.3ms)
Completed 200 OK in 147ms (Views: 140.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 15ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:28:23', '2019-07-02 03:28:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191067 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191067, '2019-07-02 03:28:23', '2019-07-02 03:28:23')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (17.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.9ms)
  Rendered line_items/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:28:23', '2019-07-02 03:28:23')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191068 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191068, '2019-07-02 03:28:23', '2019-07-02 03:28:23')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191068[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.6ms)
  Rendered carts/_cart.html.erb (9.0ms)
  Rendered line_items/create.js.erb (10.7ms)
Completed 200 OK in 28ms (Views: 12.1ms | ActiveRecord: 4.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (19.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 15ms (Views: 11.9ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (21.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (14.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.8ms)
  Rendered products/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 03:28:23', '2019-07-02 03:28:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190976
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (27.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.1ms)
  Rendered products/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 03:28:23' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (18.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (2.2ms)
  Rendered carts/_cart.html.erb (4.5ms)
  Rendered carts/show.html.erb within layouts/application (5.4ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.5ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/new.html.erb within layouts/application (2.4ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:28:23', '2019-07-02 03:28:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191069
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (22.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.6ms)
  Rendered carts/edit.html.erb within layouts/application (3.1ms)
  [1m[36mLineItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (4.2ms)
  Rendered carts/_cart.html.erb (7.3ms)
Completed 200 OK in 19ms (Views: 14.7ms | ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:28:23', '2019-07-02 03:28:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.4ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191070 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191070[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 13ms (Views: 9.2ms | ActiveRecord: 1.7ms)
  [1m[35m (16.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:28:23', '2019-07-02 03:28:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (5.2ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191071 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191071[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 1.4ms)
  [1m[35m (18.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (22.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 10:28:23 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (8.0ms)
  Rendered orders/edit.html.erb within layouts/application (9.2ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:28:24 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 10:28:24 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:28:24', '2019-07-02 03:28:24')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191072 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (15.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 10:28:24 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:28:24', '2019-07-02 03:28:24')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191073[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:28:24', '2019-07-02 03:28:24')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191073 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191073[0m
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191073[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 5.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (25.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:28:24 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 03:29:28', '2019-07-02 03:29:28', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 03:29:28', '2019-07-02 03:29:28', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 03:29:28', '2019-07-02 03:29:28'), (298486374, '2019-07-02 03:29:28', '2019-07-02 03:29:28');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:29:28', '2019-07-02 03:29:28'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 03:29:28', '2019-07-02 03:29:28');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:29:28', '2019-07-02 03:29:28'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 03:29:28', '2019-07-02 03:29:28'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 03:29:28', '2019-07-02 03:29:28');
[0m
  [1m[35m (44.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 10:29:28 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 15ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (16.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 10:29:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 140ms (Views: 138.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 10:29:28 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (17.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190977
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (22.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (7.1ms)
  Rendered products/edit.html.erb within layouts/application (8.1ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.6ms)
  Rendered products/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 03:29:29' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
  [1m[35m (15.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (15.7ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191074 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191074[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
Completed 200 OK in 33ms (Views: 22.3ms | ActiveRecord: 2.4ms)
  [1m[35m (24.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by StoreController#index as HTML
  [1m[35m (4.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (5.0ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191075 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191075[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 15ms (Views: 6.0ms | ActiveRecord: 7.5ms)
  [1m[35m (24.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (1.9ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (3.9ms)
  Rendered carts/_cart.html.erb (11.5ms)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (3.8ms)
  Rendered carts/_cart.html.erb (5.6ms)
  Rendered carts/show.html.erb within layouts/application (6.1ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.4ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191076
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (45.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (26.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.7ms)
  Rendered line_items/edit.html.erb within layouts/application (7.1ms)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191077 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191077, '2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (19.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191078 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191078, '2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191078[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.8ms)
  Rendered carts/_cart.html.erb (4.2ms)
  Rendered line_items/create.js.erb (5.5ms)
Completed 200 OK in 14ms (Views: 6.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (15.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.1ms)
  Rendered line_items/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191079 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (17.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191080[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.1ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191080 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191080[0m
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191080[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (19.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (5.6ms)
  Rendered orders/edit.html.erb within layouts/application (6.8ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 03:29:29', '2019-07-02 03:29:29')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (18.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (22.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 10:29:29 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 9ms (Views: 5.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (10.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 06:29:46', '2019-07-02 06:29:46', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 06:29:46', '2019-07-02 06:29:46', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 06:29:46', '2019-07-02 06:29:46'), (298486374, '2019-07-02 06:29:46', '2019-07-02 06:29:46');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 06:29:46', '2019-07-02 06:29:46'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 06:29:46', '2019-07-02 06:29:46');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 06:29:46', '2019-07-02 06:29:46'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 06:29:46', '2019-07-02 06:29:46'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 06:29:46', '2019-07-02 06:29:46');
[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 13:29:46 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (144.7ms)
Completed 200 OK in 157ms (Views: 151.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 13:29:46 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95 WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (9.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 13:29:46 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 25ms (ActiveRecord: 2.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (6.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 13:29:46 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 13:29:46 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 06:29:46', '2019-07-02 06:29:46')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190978
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (5.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 13:29:46 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (10.2ms)
  Rendered products/new.html.erb within layouts/application (11.0ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 13:29:46 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.1ms)
  Rendered products/edit.html.erb within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 13:29:46 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (6.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.7ms)
  Rendered carts/edit.html.erb within layouts/application (3.3ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (13.4ms)
  Rendered carts/_cart.html.erb (24.9ms)
Completed 200 OK in 36ms (Views: 33.4ms | ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/new.html.erb within layouts/application (2.4ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 15ms (Views: 12.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (3.5ms)
  Rendered carts/_cart.html.erb (6.1ms)
  Rendered carts/show.html.erb within layouts/application (7.3ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (1.2ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 3.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:29:47', '2019-07-02 06:29:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191082
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:29:47', '2019-07-02 06:29:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191083 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191083, '2019-07-02 06:29:47', '2019-07-02 06:29:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191083[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.1ms)
  Rendered carts/_cart.html.erb (5.4ms)
  Rendered line_items/create.js.erb (6.6ms)
Completed 200 OK in 21ms (Views: 9.4ms | ActiveRecord: 2.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (6.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (5.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.8ms)
  Rendered line_items/edit.html.erb within layouts/application (5.3ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.7ms)
  Rendered line_items/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (5.2ms)
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:29:47', '2019-07-02 06:29:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191084 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191084, '2019-07-02 06:29:47', '2019-07-02 06:29:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (10.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 17ms (Views: 12.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:29:47', '2019-07-02 06:29:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191085 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (7.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (8.0ms)
  Rendered orders/edit.html.erb within layouts/application (9.2ms)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:29:47', '2019-07-02 06:29:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191086[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 06:29:47', '2019-07-02 06:29:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191086 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191086[0m
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191086[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 3.7ms)
  [1m[35m (6.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (6.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:29:47', '2019-07-02 06:29:47')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.4ms)
  [1m[36mLineItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191087 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191087[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 18ms (Views: 11.7ms | ActiveRecord: 2.3ms)
  [1m[35m (6.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 13:29:47 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:29:47', '2019-07-02 06:29:47')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.7ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191088 LIMIT 1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191088[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.5ms)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 2.2ms)
  [1m[35m (6.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 06:41:00', '2019-07-02 06:41:00', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 06:41:00', '2019-07-02 06:41:00', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 06:41:00', '2019-07-02 06:41:00'), (298486374, '2019-07-02 06:41:00', '2019-07-02 06:41:00');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 06:41:00', '2019-07-02 06:41:00'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 06:41:00', '2019-07-02 06:41:00');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 06:41:00', '2019-07-02 06:41:00'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 06:41:00', '2019-07-02 06:41:00'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 06:41:00', '2019-07-02 06:41:00');
[0m
  [1m[35m (44.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 124ms (Views: 118.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.5ms)
  Rendered carts/edit.html.erb within layouts/application (2.3ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (9.7ms)
  Rendered carts/_cart.html.erb (17.4ms)
Completed 200 OK in 28ms (Views: 26.1ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (1.7ms)
  Rendered carts/_cart.html.erb (3.3ms)
  Rendered carts/show.html.erb within layouts/application (3.8ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.5ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:41:01', '2019-07-02 06:41:01')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191089
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (21.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:41:01', '2019-07-02 06:41:01')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.4ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191090 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191090[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 13ms (Views: 7.3ms | ActiveRecord: 2.0ms)
  [1m[35m (20.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:41:01', '2019-07-02 06:41:01')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (9.3ms)
  [1m[36mLineItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191091 LIMIT 1[0m
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191091[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.2ms)
Completed 200 OK in 23ms (Views: 16.1ms | ActiveRecord: 3.3ms)
  [1m[35m (19.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:41:01', '2019-07-02 06:41:01')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191092[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.9ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 06:41:01', '2019-07-02 06:41:01')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191092 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191092[0m
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191092[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.3ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190979[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (1.8ms)
OrderNotifierMailer#received: processed outbound mail in 165.9ms
Sent mail to dave@example.org (17.7ms)
Date: Tue, 02 Jul 2019 13:41:01 +0700
From: Sam Ruby <depot@example.com>
To: dave@example.org
Message-ID: <5d1afc7da06b0_72762adb1e6a260047985@longdh97-Inspiron-7559.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d1afc7d9c939_72762adb1e6a2600478bb";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d1afc7d9c939_72762adb1e6a2600478bb
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
Thank you for your recent order from The Pragmatic Store.
You ordered the following items:
We'll send you a separate e-mail when your order ships. 

----==_mimepart_5d1afc7d9c939_72762adb1e6a2600478bb
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>OrderNotifier#received</h1>

<p>
  , find me in app/views/order_notifier_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5d1afc7d9c939_72762adb1e6a2600478bb--

Redirected to http://www.example.com/
Completed 302 Found in 214ms (ActiveRecord: 3.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (32.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:41:01', '2019-07-02 06:41:01')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191093 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (22.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (13.8ms)
  Rendered orders/edit.html.erb within layouts/application (15.6ms)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 11ms (ActiveRecord: 2.1ms)
  [1m[35m (18.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:41:01', '2019-07-02 06:41:01')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191094 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191094, '2019-07-02 06:41:01', '2019-07-02 06:41:01')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191094[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.9ms)
  Rendered carts/_cart.html.erb (6.8ms)
  Rendered line_items/create.js.erb (8.3ms)
Completed 200 OK in 27ms (Views: 11.2ms | ActiveRecord: 3.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (21.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 06:41:01', '2019-07-02 06:41:01')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191095 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191095, '2019-07-02 06:41:01', '2019-07-02 06:41:01')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.1ms)
  Rendered line_items/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (15.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.4ms)
  Rendered line_items/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 13:41:01 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.0ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (1.0ms)
OrderNotifierMailer#received: processed outbound mail in 4.7ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (2.5ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.8ms)
OrderNotifierMailer#shipped: processed outbound mail in 22.6ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 13:41:02 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.5ms)
  Rendered products/edit.html.erb within layouts/application (5.2ms)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 13:41:02 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (11.0ms)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 13:41:02 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (31.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 13:41:02 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 06:41:02' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (23.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 13:41:02 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.2ms)
  Rendered products/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 13:41:02 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 13:41:02 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 06:41:02', '2019-07-02 06:41:02')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190979
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (15.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (3.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 13:41:02 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (1.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (20.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 07:31:54', '2019-07-02 07:31:54', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 07:31:54', '2019-07-02 07:31:54', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 07:31:54', '2019-07-02 07:31:54'), (298486374, '2019-07-02 07:31:54', '2019-07-02 07:31:54');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 07:31:54', '2019-07-02 07:31:54'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 07:31:54', '2019-07-02 07:31:54');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 07:31:54', '2019-07-02 07:31:54'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 07:31:54', '2019-07-02 07:31:54'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 07:31:54', '2019-07-02 07:31:54');
[0m
  [1m[35m (43.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 14ms (ActiveRecord: 1.0ms)
  [1m[35m (21.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (17.9ms)
  Rendered orders/edit.html.erb within layouts/application (19.7ms)
Completed 200 OK in 163ms (Views: 160.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:31:54', '2019-07-02 07:31:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191096 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (24.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:31:54', '2019-07-02 07:31:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191097[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 07:31:54', '2019-07-02 07:31:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191097 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191097[0m
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191097[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.7ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190980[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (1.8ms)
OrderNotifierMailer#received: processed outbound mail in 148.4ms
Sent mail to dave@example.org (4.9ms)
Date: Tue, 02 Jul 2019 14:31:54 +0700
From: Sam Ruby <depot@example.com>
To: dave@example.org
Message-ID: <5d1b086ac965d_794e2ab7c4dbc5f8873d@longdh97-Inspiron-7559.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d1b086ac8701_794e2ab7c4dbc5f88646";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d1b086ac8701_794e2ab7c4dbc5f88646
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
Thank you for your recent order from The Pragmatic Store.
You ordered the following items:
We'll send you a separate e-mail when your order ships. 

----==_mimepart_5d1b086ac8701_794e2ab7c4dbc5f88646
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>OrderNotifier#received</h1>

<p>
  , find me in app/views/order_notifier_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5d1b086ac8701_794e2ab7c4dbc5f88646--

Redirected to http://www.example.com/
Completed 302 Found in 171ms (ActiveRecord: 2.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (36.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.4ms)
  Rendered carts/edit.html.erb within layouts/application (5.4ms)
  [1m[36mLineItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (7.8ms)
  Rendered carts/_cart.html.erb (11.8ms)
Completed 200 OK in 28ms (Views: 22.6ms | ActiveRecord: 2.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.7ms)
  Rendered carts/new.html.erb within layouts/application (1.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (3.3ms)
  Rendered carts/_cart.html.erb (7.0ms)
  Rendered carts/show.html.erb within layouts/application (8.1ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.9ms)
  Rendered carts/_cart.html.erb (3.4ms)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 14:31:54 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:31:54', '2019-07-02 07:31:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191098
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (27.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:31:55', '2019-07-02 07:31:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (7.1ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191099 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191099[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.5ms)
Completed 200 OK in 19ms (Views: 13.5ms | ActiveRecord: 1.8ms)
  [1m[35m (21.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:31:55', '2019-07-02 07:31:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (5.5ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191100 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191100[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 13ms (Views: 8.9ms | ActiveRecord: 1.4ms)
  [1m[35m (13.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.1ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (2.1ms)
OrderNotifierMailer#received: processed outbound mail in 10.3ms
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (4.0ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.3ms)
OrderNotifierMailer#shipped: processed outbound mail in 20.0ms
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items`[0m
  [1m[36mOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM `orders`[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started GET "/" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:31:55', '2019-07-02 07:31:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (5.2ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191101 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191101[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 1.6ms)
  [1m[35m (23.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:31:55', '2019-07-02 07:31:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191102 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191102, '2019-07-02 07:31:55', '2019-07-02 07:31:55')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (16.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:31:55', '2019-07-02 07:31:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191103 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191103, '2019-07-02 07:31:55', '2019-07-02 07:31:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191103[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.9ms)
  Rendered carts/_cart.html.erb (4.5ms)
  Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 16ms (Views: 6.6ms | ActiveRecord: 2.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (19.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/edit.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.3ms)
  Rendered products/edit.html.erb within layouts/application (4.9ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.4ms)
  Rendered products/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 07:31:55', '2019-07-02 07:31:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190980
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (22.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (22.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (23.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 14:31:55 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 07:31:55' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (27.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 07:33:15', '2019-07-02 07:33:15', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 07:33:15', '2019-07-02 07:33:15', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 07:33:15', '2019-07-02 07:33:15'), (298486374, '2019-07-02 07:33:15', '2019-07-02 07:33:15');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 07:33:15', '2019-07-02 07:33:15'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 07:33:15', '2019-07-02 07:33:15');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 07:33:15', '2019-07-02 07:33:15'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 07:33:15', '2019-07-02 07:33:15'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 07:33:15', '2019-07-02 07:33:15');
[0m
  [1m[35m (21.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 14:33:15 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 14:33:15 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:33:15', '2019-07-02 07:33:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191104 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191104, '2019-07-02 07:33:15', '2019-07-02 07:33:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 14:33:15 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 26ms (ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 14:33:15 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:33:15', '2019-07-02 07:33:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191105 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980191105, '2019-07-02 07:33:15', '2019-07-02 07:33:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191105[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.9ms)
  Rendered carts/_cart.html.erb (7.6ms)
  Rendered line_items/create.js.erb (9.0ms)
Completed 200 OK in 19ms (Views: 11.5ms | ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (15.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 14:33:15 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (6.9ms)
  Rendered line_items/edit.html.erb within layouts/application (7.9ms)
Completed 200 OK in 126ms (Views: 124.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 14:33:15 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 14:33:15 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.0ms)
  Rendered line_items/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 14:33:15 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 1.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.7ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (2.5ms)
OrderNotifierMailer#received: processed outbound mail in 12.5ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (1.5ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.7ms)
OrderNotifierMailer#shipped: processed outbound mail in 10.0ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 9ms (ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (24.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 07:33:16', '2019-07-02 07:33:16')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190981
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (21.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (9.9ms)
  Rendered products/new.html.erb within layouts/application (12.0ms)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 07:33:16' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)
  [1m[35m (23.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.6ms)
  Rendered products/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (19.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items`[0m
  [1m[36mOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM `orders`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started GET "/" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:33:16', '2019-07-02 07:33:16')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.0ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191106 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191106[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 16ms (Views: 10.3ms | ActiveRecord: 2.3ms)
  [1m[35m (20.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:33:16', '2019-07-02 07:33:16')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191107[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 07:33:16', '2019-07-02 07:33:16')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191107 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191107[0m
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980191107[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.1ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190981[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (0.7ms)
OrderNotifierMailer#received: processed outbound mail in 2.4ms
Sent mail to dave@example.org (2.9ms)
Date: Tue, 02 Jul 2019 14:33:16 +0700
From: Sam Ruby <depot@example.com>
To: dave@example.org
Message-ID: <5d1b08bc657be_79fe2af8d038c5f49072@longdh97-Inspiron-7559.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d1b08bc65244_79fe2af8d038c5f489cb";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d1b08bc65244_79fe2af8d038c5f489cb
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
Thank you for your recent order from The Pragmatic Store.
You ordered the following items:
We'll send you a separate e-mail when your order ships. 

----==_mimepart_5d1b08bc65244_79fe2af8d038c5f489cb
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>OrderNotifier#received</h1>

<p>
  , find me in app/views/order_notifier_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5d1b08bc65244_79fe2af8d038c5f489cb--

Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (6.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (11.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.0ms)
  Rendered orders/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:33:16', '2019-07-02 07:33:16')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191108 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (15.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:33:16', '2019-07-02 07:33:16')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980191109
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (20.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.4ms)
  Rendered carts/new.html.erb within layouts/application (4.5ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (4.0ms)
  Rendered carts/_cart.html.erb (6.5ms)
  Rendered carts/show.html.erb within layouts/application (7.2ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.4ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.8ms)
  Rendered carts/edit.html.erb within layouts/application (1.6ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (1.7ms)
  Rendered carts/_cart.html.erb (2.9ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:33:16', '2019-07-02 07:33:16')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.5ms)
  [1m[36mLineItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191110 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191110[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 1.6ms)
  [1m[35m (16.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 14:33:16 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 07:33:16', '2019-07-02 07:33:16')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.2ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980191111 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980191111[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 11ms (Views: 6.9ms | ActiveRecord: 1.6ms)
  [1m[35m (19.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (472.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS `carts` CASCADE[0m
  [1m[35m (114.6ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `line_items` CASCADE[0m
  [1m[35m (175.8ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint, `cart_id` bigint, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `quantity` int DEFAULT 1, `order_id` bigint,  INDEX `index_line_items_on_cart_id`  (`cart_id`),  INDEX `index_line_items_on_order_id`  (`order_id`),  INDEX `index_line_items_on_product_id`  (`product_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `orders` CASCADE[0m
  [1m[35m (119.1ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `products` CASCADE[0m
  [1m[35m (127.3ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (167.0ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `password_digest` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (437.6ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
[0m
  [1m[35m (419.7ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (336.0ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (211.5ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (19.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20190702075052)[0m
  [1m[35m (7.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20190628092822),
(20190701095122),
(20190628092030),
(20190628045938),
(20190627043610),
(20190701095114),
(20190628045354);

[0m
  [1m[35m (73.7ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'test', '2019-07-02 08:30:56', '2019-07-02 08:30:56')[0m
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (4.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
DELETE FROM `users`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 08:30:56', '2019-07-02 08:30:56', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 08:30:56', '2019-07-02 08:30:56', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 08:30:56', '2019-07-02 08:30:56'), (298486374, '2019-07-02 08:30:56', '2019-07-02 08:30:56');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 08:30:56', '2019-07-02 08:30:56'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 08:30:56', '2019-07-02 08:30:56');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 08:30:56', '2019-07-02 08:30:56'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 08:30:56', '2019-07-02 08:30:56'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 08:30:56', '2019-07-02 08:30:56');
INSERT INTO `users` (`id`, `name`, `password_digest`, `created_at`, `updated_at`) VALUES (980190962, 'dave', '$2a$10$5UjYRQp3H8im5nwkcDrMrOJ5zEXMp2NLFxX65dNNr9s1k.VBSTvSu', '2019-07-02 08:30:56', '2019-07-02 08:30:56'), (298486374, 'susannah', '$2a$10$z7xcI05sqLi86eZJesJ/f.nKkst1s5iVxBrHU9KHxL7pcwvKv1oNC', '2019-07-02 08:30:56', '2019-07-02 08:30:56');
[0m
  [1m[35m (17.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (7.7ms)
  Rendered carts/edit.html.erb within layouts/application (9.4ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (25.9ms)
  Rendered carts/_cart.html.erb (34.2ms)
Completed 200 OK in 575ms (Views: 567.1ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (1.7ms)
  Rendered carts/_cart.html.erb (3.2ms)
  Rendered carts/show.html.erb within layouts/application (3.7ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.4ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 08:30:57', '2019-07-02 08:30:57')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (19.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/980190962/edit" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (11.8ms)
  Rendered users/edit.html.erb within layouts/application (14.9ms)
Completed 200 OK in 37ms (Views: 18.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/new" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (0.9ms)
  Rendered users/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (7.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/980190962" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/users" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'sam' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `password_digest`, `created_at`, `updated_at`) VALUES ('sam', '$2a$04$2BfPXoxT2atv9hQx7ZiepeBGi9VosqOD.uFEPphclA8dBHUbDWsmy', '2019-07-02 08:30:57', '2019-07-02 08:30:57')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (6.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` ORDER BY `users`.`name` ASC[0m
  Rendered users/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/users/980190962" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"dave", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'dave' AND `users`.`id` != 980190962 LIMIT 1[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE `users` SET `password_digest` = '$2a$04$hKST0M9XOCabwk2Y8bhTROkF0NGXcrY7DI1mcJ0NfJ8nQNLD.i1yu', `updated_at` = '2019-07-02 08:30:57' WHERE `users`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[35m (6.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items`[0m
  [1m[36mOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM `orders`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started GET "/" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 08:30:57', '2019-07-02 08:30:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.2ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 1.5ms)
  [1m[35m (17.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.4ms)
  Rendered line_items/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 15:30:57 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 08:30:57', '2019-07-02 08:30:57')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190965, '2019-07-02 08:30:57', '2019-07-02 08:30:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.7ms)
  Rendered carts/_cart.html.erb (3.1ms)
  Rendered line_items/create.js.erb (4.1ms)
Completed 200 OK in 15ms (Views: 5.1ms | ActiveRecord: 2.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (6.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.2ms)
  Rendered line_items/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 08:30:58', '2019-07-02 08:30:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190966 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190966, '2019-07-02 08:30:58', '2019-07-02 08:30:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (5.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (6.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (6.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 08:30:58', '2019-07-02 08:30:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190967 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (5.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 08:30:58', '2019-07-02 08:30:58')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190968[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 08:30:58', '2019-07-02 08:30:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190968[0m
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980190968[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.4ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190963[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (1.3ms)
OrderNotifierMailer#received: processed outbound mail in 183.3ms
Sent mail to dave@example.org (5.4ms)
Date: Tue, 02 Jul 2019 15:30:58 +0700
From: Sam Ruby <depot@example.com>
To: dave@example.org
Message-ID: <5d1b164256de7_5332b1a810185f855017@longdh97-Inspiron-7559.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d1b164255f47_5332b1a810185f8549c8";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d1b164255f47_5332b1a810185f8549c8
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
Thank you for your recent order from The Pragmatic Store.
You ordered the following items:
We'll send you a separate e-mail when your order ships. 

----==_mimepart_5d1b164255f47_5332b1a810185f8549c8
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>OrderNotifier#received</h1>

<p>
  , find me in app/views/order_notifier_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5d1b164255f47_5332b1a810185f8549c8--

Redirected to http://www.example.com/
Completed 302 Found in 208ms (ActiveRecord: 2.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (30.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (6.1ms)
  Rendered orders/edit.html.erb within layouts/application (8.1ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 08:30:58', '2019-07-02 08:30:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.4ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190969 LIMIT 1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190969[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 16ms (Views: 11.0ms | ActiveRecord: 2.5ms)
  [1m[35m (5.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 08:30:58', '2019-07-02 08:30:58')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.5ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190970 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190970[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 1.4ms)
  [1m[35m (5.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (2.1ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.3ms)
OrderNotifierMailer#shipped: processed outbound mail in 10.9ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.0ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (1.2ms)
OrderNotifierMailer#received: processed outbound mail in 3.6ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (7.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 08:30:58' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35m (6.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 9ms (ActiveRecord: 2.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (6.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 08:30:58', '2019-07-02 08:30:58')[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (6.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.9ms)
  Rendered products/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 15:30:58 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.5ms)
  Rendered products/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (1.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
DELETE FROM `users`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 09:43:17', '2019-07-02 09:43:17', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 09:43:17', '2019-07-02 09:43:17', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 09:43:17', '2019-07-02 09:43:17'), (298486374, '2019-07-02 09:43:17', '2019-07-02 09:43:17');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 09:43:17', '2019-07-02 09:43:17'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 09:43:17', '2019-07-02 09:43:17');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 09:43:17', '2019-07-02 09:43:17'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 09:43:17', '2019-07-02 09:43:17'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 09:43:17', '2019-07-02 09:43:17');
INSERT INTO `users` (`id`, `name`, `password_digest`, `created_at`, `updated_at`) VALUES (980190962, 'dave', '$2a$10$0CWOOhVooqZ7qKN3fodwhuQFYfQ155E9f.7xFqrQnxsKetp/sXTya', '2019-07-02 09:43:17', '2019-07-02 09:43:17'), (298486374, 'susannah', '$2a$10$AurdZLoAatdALb90leEWCO3k3sL3AfBIeDatcFim5ggW0rE27DrX.', '2019-07-02 09:43:17', '2019-07-02 09:43:17');
[0m
  [1m[35m (43.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 16:43:17 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (13.9ms)
  Rendered orders/edit.html.erb within layouts/application (15.8ms)
Completed 200 OK in 360ms (Views: 352.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 16:43:17 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:43:17', '2019-07-02 09:43:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190971[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 09:43:17', '2019-07-02 09:43:17')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190971 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190971[0m
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980190971[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.3ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190964[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (1.9ms)
OrderNotifierMailer#received: processed outbound mail in 136.1ms
Sent mail to dave@example.org (4.4ms)
Date: Tue, 02 Jul 2019 16:43:18 +0700
From: Sam Ruby <depot@example.com>
To: dave@example.org
Message-ID: <5d1b273619c0c_13842afa7b8ec6004549f@longdh97-Inspiron-7559.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d1b273619046_13842afa7b8ec60045347";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d1b273619046_13842afa7b8ec60045347
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
Thank you for your recent order from The Pragmatic Store.
You ordered the following items:

We'll send you a separate e-mail when your order ships. 

----==_mimepart_5d1b273619046_13842afa7b8ec60045347
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>OrderNotifier#received</h1>

<p>
  , find me in app/views/order_notifier_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5d1b273619046_13842afa7b8ec60045347--

Redirected to http://www.example.com/
Completed 302 Found in 171ms (ActiveRecord: 4.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (39.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:43:18', '2019-07-02 09:43:18')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190972 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (18.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (16.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Started GET "/sessions/create" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`name` IS NULL LIMIT 1[0m
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Started GET "/sessions/destroy" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
SessionsControllerTest: test_should_logout
------------------------------------------
Started DELETE "/sessions/destroy" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.0ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (0.9ms)
OrderNotifierMailer#received: processed outbound mail in 3.2ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (1.7ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.4ms)
OrderNotifierMailer#shipped: processed outbound mail in 13.1ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:43:18', '2019-07-02 09:43:18')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (8.5ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190973 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190973[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 16ms (Views: 12.7ms | ActiveRecord: 1.4ms)
  [1m[35m (19.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:43:18', '2019-07-02 09:43:18')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.3ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190974 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190974[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 1.2ms)
  [1m[35m (22.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (16.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:43:18', '2019-07-02 09:43:18')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190975 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190975, '2019-07-02 09:43:18', '2019-07-02 09:43:18')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 3.6ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (15.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.3ms)
  Rendered line_items/new.html.erb within layouts/application (7.0ms)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:43:18', '2019-07-02 09:43:18')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190976 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190976, '2019-07-02 09:43:18', '2019-07-02 09:43:18')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190976[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.6ms)
  Rendered carts/_cart.html.erb (3.2ms)
  Rendered line_items/create.js.erb (4.2ms)
Completed 200 OK in 16ms (Views: 5.1ms | ActiveRecord: 2.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (22.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.0ms)
  Rendered line_items/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:43:18', '2019-07-02 09:43:18')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190977
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (25.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (2.3ms)
  Rendered carts/_cart.html.erb (4.4ms)
  Rendered carts/show.html.erb within layouts/application (5.0ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.5ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 13ms (Views: 7.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.6ms)
  Rendered carts/new.html.erb within layouts/application (3.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.7ms)
  Rendered carts/edit.html.erb within layouts/application (1.3ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (2.6ms)
  Rendered carts/_cart.html.erb (4.6ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (16.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (17.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.6ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 09:43:18' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 12ms (ActiveRecord: 3.2ms)
  [1m[35m (22.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 16:43:18 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 09:43:18', '2019-07-02 09:43:18')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190964
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (13.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 16:43:19 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (6.0ms)
  Rendered products/edit.html.erb within layouts/application (8.9ms)
Completed 200 OK in 17ms (Views: 12.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 16:43:19 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.7ms)
  Rendered products/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM `line_items`[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started GET "/" for 127.0.0.1 at 2019-07-02 16:43:19 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:43:19', '2019-07-02 09:43:19')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (6.3ms)
  [1m[36mLineItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190978 LIMIT 1[0m
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190978[0m
  Rendered collection of templates [0 times] (0.1ms)
  Rendered carts/_cart.html.erb (3.5ms)
Completed 200 OK in 25ms (Views: 18.2ms | ActiveRecord: 4.0ms)
  [1m[35m (23.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2019-07-02 16:43:19 +0700
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (29.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users" for 127.0.0.1 at 2019-07-02 16:43:19 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` ORDER BY `users`.`name` ASC[0m
  Rendered users/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 29ms (Views: 10.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/980190962/edit" for 127.0.0.1 at 2019-07-02 16:43:19 +0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (5.6ms)
  Rendered users/edit.html.erb within layouts/application (17.3ms)
Completed 200 OK in 25ms (Views: 21.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/980190962" for 127.0.0.1 at 2019-07-02 16:43:19 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/users" for 127.0.0.1 at 2019-07-02 16:43:19 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'sam' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `password_digest`, `created_at`, `updated_at`) VALUES ('sam', '$2a$04$f4dbS5w2mIA5VJioe/06h.yKIT45x40x7Fr6vyR8kfPMRFQDJqsGO', '2019-07-02 09:43:19', '2019-07-02 09:43:19')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (29.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/users/980190962" for 127.0.0.1 at 2019-07-02 16:43:19 +0700
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"dave", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'dave' AND `users`.`id` != 980190962 LIMIT 1[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE `users` SET `password_digest` = '$2a$04$bMzfv3ThJCa2a8Wn0QfpIOxWFnoLa.zoGehyAABfvmjmV8DOaze.G', `updated_at` = '2019-07-02 09:43:19' WHERE `users`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 13ms (ActiveRecord: 2.8ms)
  [1m[35m (22.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/new" for 127.0.0.1 at 2019-07-02 16:43:19 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (2.2ms)
  Rendered users/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
DELETE FROM `users`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 09:45:17', '2019-07-02 09:45:17', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 09:45:17', '2019-07-02 09:45:17', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 09:45:17', '2019-07-02 09:45:17'), (298486374, '2019-07-02 09:45:17', '2019-07-02 09:45:17');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 09:45:17', '2019-07-02 09:45:17'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 09:45:17', '2019-07-02 09:45:17');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 09:45:17', '2019-07-02 09:45:17'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 09:45:17', '2019-07-02 09:45:17'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 09:45:17', '2019-07-02 09:45:17');
INSERT INTO `users` (`id`, `name`, `password_digest`, `created_at`, `updated_at`) VALUES (980190962, 'dave', '$2a$10$JmiVfP6YA7YVqYGBno9l/.5Vm40p7SK0Z.Dej6uNOLj7EWZwPqY1y', '2019-07-02 09:45:17', '2019-07-02 09:45:17'), (298486374, 'susannah', '$2a$10$eVlkpInYJfvibQ.NsnAjBOkgx1D4aEwubwk6Qjd8ujKX/SOPzjXJG', '2019-07-02 09:45:17', '2019-07-02 09:45:17');
[0m
  [1m[35m (44.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 16:45:17 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:45:17', '2019-07-02 09:45:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190979 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190979, '2019-07-02 09:45:17', '2019-07-02 09:45:17')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 16:45:17 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (3.6ms)
Completed 200 OK in 123ms (Views: 120.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (89.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.2ms)
  Rendered line_items/edit.html.erb within layouts/application (6.1ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.0ms)
  Rendered line_items/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:45:18', '2019-07-02 09:45:18')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190980 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190980, '2019-07-02 09:45:18', '2019-07-02 09:45:18')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190980[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.9ms)
  Rendered carts/_cart.html.erb (9.2ms)
  Rendered line_items/create.js.erb (11.3ms)
Completed 200 OK in 20ms (Views: 12.4ms | ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (21.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.5ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (1.7ms)
OrderNotifierMailer#received: processed outbound mail in 9.8ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (1.3ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.3ms)
OrderNotifierMailer#shipped: processed outbound mail in 8.9ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 09:45:18', '2019-07-02 09:45:18')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190965
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (45.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 09:45:18' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 11ms (ActiveRecord: 2.1ms)
  [1m[35m (21.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (7.7ms)
  Rendered products/edit.html.erb within layouts/application (10.1ms)
Completed 200 OK in 19ms (Views: 15.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.3ms)
  Rendered products/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (20.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (25.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (10.6ms)
Completed 200 OK in 17ms (Views: 12.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mLineItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM `line_items`[0m
  [1m[36mOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM `orders`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started GET "/" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:45:18', '2019-07-02 09:45:18')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (10.6ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190981 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190981[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.4ms)
Completed 200 OK in 22ms (Views: 16.9ms | ActiveRecord: 1.8ms)
  [1m[35m (23.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` ORDER BY `users`.`name` ASC[0m
  Rendered users/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/980190962/edit" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (1.7ms)
  Rendered users/edit.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/new" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (0.9ms)
  Rendered users/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/users" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'sam' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `password_digest`, `created_at`, `updated_at`) VALUES ('sam', '$2a$04$ias2URaWy8NDk6Of5yJ5TerodxN.FKwxdkNWQCWPLGweUR5L174hC', '2019-07-02 09:45:18', '2019-07-02 09:45:18')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (17.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/980190962" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/users/980190962" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"dave", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'dave' AND `users`.`id` != 980190962 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `password_digest` = '$2a$04$THGXv03c4Z.ONRxp.FOpTuoIZfWH3YzgxTKX91ryOFvnj0HY9QHJq', `updated_at` = '2019-07-02 09:45:18' WHERE `users`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (16.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (24.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
SessionsControllerTest: test_should_logout
------------------------------------------
Started DELETE "/sessions/destroy" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started POST "/sessions/create" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Started GET "/sessions/create" for 127.0.0.1 at 2019-07-02 16:45:18 +0700
Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`name` IS NULL LIMIT 1[0m
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Started GET "/sessions/destroy" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started POST "/sessions/create" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:45:19', '2019-07-02 09:45:19')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190982 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (24.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:45:19', '2019-07-02 09:45:19')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190983[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 09:45:19', '2019-07-02 09:45:19')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190983 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190983[0m
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980190983[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.1ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190965[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (1.1ms)
OrderNotifierMailer#received: processed outbound mail in 4.9ms
Sent mail to dave@example.org (4.6ms)
Date: Tue, 02 Jul 2019 16:45:19 +0700
From: Sam Ruby <depot@example.com>
To: dave@example.org
Message-ID: <5d1b27af27bb8_14002ab45c4826109419b@longdh97-Inspiron-7559.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d1b27af26925_14002ab45c4826109407f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d1b27af26925_14002ab45c4826109407f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
Thank you for your recent order from The Pragmatic Store.
You ordered the following items:

We'll send you a separate e-mail when your order ships. 

----==_mimepart_5d1b27af26925_14002ab45c4826109407f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>OrderNotifier#received</h1>

<p>
  , find me in app/views/order_notifier_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5d1b27af26925_14002ab45c4826109407f--

Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 2.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (21.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.5ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 7ms (ActiveRecord: 2.3ms)
  [1m[35m (14.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.4ms)
  Rendered orders/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/new.html.erb within layouts/application (2.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (2.2ms)
  Rendered carts/_cart.html.erb (4.4ms)
  Rendered carts/show.html.erb within layouts/application (5.0ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.5ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:45:19', '2019-07-02 09:45:19')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190984
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (108.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.6ms)
  Rendered carts/edit.html.erb within layouts/application (3.1ms)
  [1m[36mLineItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (4.9ms)
  Rendered carts/_cart.html.erb (8.7ms)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 2.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:45:19', '2019-07-02 09:45:19')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[36mLineItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190985 LIMIT 1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190985[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.4ms)
Completed 200 OK in 25ms (Views: 17.5ms | ActiveRecord: 3.3ms)
  [1m[35m (6.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 16:45:19 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:45:19', '2019-07-02 09:45:19')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (4.7ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190986 LIMIT 1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190986[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 1.8ms)
  [1m[35m (31.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
DELETE FROM `users`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 09:46:48', '2019-07-02 09:46:48', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 09:46:48', '2019-07-02 09:46:48', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 09:46:48', '2019-07-02 09:46:48'), (298486374, '2019-07-02 09:46:48', '2019-07-02 09:46:48');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 09:46:48', '2019-07-02 09:46:48'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 09:46:48', '2019-07-02 09:46:48');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 09:46:48', '2019-07-02 09:46:48'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 09:46:48', '2019-07-02 09:46:48'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 09:46:48', '2019-07-02 09:46:48');
INSERT INTO `users` (`id`, `name`, `password_digest`, `created_at`, `updated_at`) VALUES (980190962, 'dave', '$2a$10$A61mH1.yajDTH5pLhWjiKuaf1J9PLh7CTENn5UUvcDVbfH.Jkmduy', '2019-07-02 09:46:48', '2019-07-02 09:46:48'), (298486374, 'susannah', '$2a$10$UETuYVAiN/YYjBnVsjHTKOxJUPrRcmrHiZZgPQlo4CE0xkZ8QJerG', '2019-07-02 09:46:48', '2019-07-02 09:46:48');
[0m
  [1m[35m (44.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:46:49', '2019-07-02 09:46:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (141.2ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190987 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190987[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 167ms (Views: 155.4ms | ActiveRecord: 1.6ms)
  [1m[35m (23.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/store/index" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:46:49', '2019-07-02 09:46:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (3.2ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190988 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190988[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 1.2ms)
  [1m[35m (56.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM `line_items`[0m
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM `orders`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started GET "/" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:46:49', '2019-07-02 09:46:49')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  Rendered store/index.html.erb within layouts/application (8.9ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190989 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190989[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 1.4ms)
  [1m[35m (47.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:46:49', '2019-07-02 09:46:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190990 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190990, '2019-07-02 09:46:49', '2019-07-02 09:46:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190990[0m
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.9ms)
  Rendered carts/_cart.html.erb (4.4ms)
  Rendered line_items/create.js.erb (5.5ms)
Completed 200 OK in 13ms (Views: 6.3ms | ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (17.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (15.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (9.6ms)
  Rendered line_items/edit.html.erb within layouts/application (10.9ms)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items/new" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.4ms)
  Rendered line_items/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Started POST "/line_items" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:46:49', '2019-07-02 09:46:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190991 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (207281424, 980190991, '2019-07-02 09:46:49', '2019-07-02 09:46:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (20.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Started GET "/line_items" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Started GET "/sessions/destroy" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Started GET "/sessions/create" for 127.0.0.1 at 2019-07-02 16:46:49 +0700
Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`name` IS NULL LIMIT 1[0m
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
SessionsControllerTest: test_should_logout
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started POST "/products" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2019-07-02 09:46:50', '2019-07-02 09:46:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190966
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 1[0m
  [1m[35m (22.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
Started DELETE "/products/298486374" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 298486374[0m
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 298486374[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (57.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (16.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962/edit" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (7.2ms)
  Rendered products/edit.html.erb within layouts/application (10.6ms)
Completed 200 OK in 19ms (Views: 15.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/products/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962 LIMIT 1[0m
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2019-07-02 09:46:50' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (15.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  Rendered products/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Started GET "/products/new" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.8ms)
  Rendered products/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/users" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'sam' LIMIT 1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO `users` (`name`, `password_digest`, `created_at`, `updated_at`) VALUES ('sam', '$2a$04$GJ6pt0ml6YRWs/fSfiY9o.s2xK1jglr4kJWB0NgGIt6vIP51yLONu', '2019-07-02 09:46:50', '2019-07-02 09:46:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (16.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/users/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"dave", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'dave' AND `users`.`id` != 980190962 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `password_digest` = '$2a$04$WZMeBuQ2kbORdeT3ZXQuauaP4USv3kfQmCVRvf.LpfWup2.Dauqzy', `updated_at` = '2019-07-02 09:46:50' WHERE `users`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (22.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/980190962/edit" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (1.9ms)
  Rendered users/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (14.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` ORDER BY `users`.`name` ASC[0m
  Rendered users/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/new" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (2.3ms)
  Rendered users/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
Started GET "/users/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.3ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (2.2ms)
OrderNotifierMailer#received: processed outbound mail in 11.1ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (1.3ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.2ms)
OrderNotifierMailer#shipped: processed outbound mail in 8.4ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"session"=>{"cart_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (1.8ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (2.3ms)
  Rendered carts/_cart.html.erb (4.0ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (1.7ms)
  Rendered carts/_cart.html.erb (4.2ms)
  Rendered carts/show.html.erb within layouts/application (5.6ms)
  Rendered collection of line_items/_line_item.html.erb [2 times] (0.4ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  Rendered carts/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started GET "/carts/new" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.6ms)
  Rendered carts/new.html.erb within layouts/application (1.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/carts/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
Started POST "/carts" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by CartsController#create as HTML
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:46:50', '2019-07-02 09:46:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190992
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts`[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
  [1m[35m (13.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM `orders` WHERE `orders`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (13.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.2ms)
  Rendered orders/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (4.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders/new" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by OrdersController#new as HTML
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:46:50', '2019-07-02 09:46:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190993 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35m (14.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started GET "/orders" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  Rendered orders/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
Started POST "/orders" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2019-07-02 09:46:50', '2019-07-02 09:46:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190994[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 09:46:50', '2019-07-02 09:46:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190994 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190994[0m
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 980190994[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.1ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190966[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (2.3ms)
OrderNotifierMailer#received: processed outbound mail in 7.8ms
Sent mail to dave@example.org (8.5ms)
Date: Tue, 02 Jul 2019 16:46:50 +0700
From: Sam Ruby <depot@example.com>
To: dave@example.org
Message-ID: <5d1b280adcea0_14672ad37b8985f4559ab@longdh97-Inspiron-7559.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5d1b280adc0ee_14672ad37b8985f4558be";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5d1b280adc0ee_14672ad37b8985f4558be
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
Thank you for your recent order from The Pragmatic Store.
You ordered the following items:

We'll send you a separate e-mail when your order ships. 

----==_mimepart_5d1b280adc0ee_14672ad37b8985f4558be
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>OrderNotifier#received</h1>

<p>
  , find me in app/views/order_notifier_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5d1b280adc0ee_14672ad37b8985f4558be--

Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 3.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (22.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Started PATCH "/orders/980190962" for 127.0.0.1 at 2019-07-02 16:46:50 +0700
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (26.1ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
DELETE FROM `users`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 10:04:01', '2019-07-02 10:04:01', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 10:04:01', '2019-07-02 10:04:01', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 10:04:01', '2019-07-02 10:04:01'), (298486374, '2019-07-02 10:04:01', '2019-07-02 10:04:01');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 10:04:01', '2019-07-02 10:04:01'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 10:04:01', '2019-07-02 10:04:01');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 10:04:01', '2019-07-02 10:04:01'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 10:04:01', '2019-07-02 10:04:01'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 10:04:01', '2019-07-02 10:04:01');
INSERT INTO `users` (`id`, `name`, `password_digest`, `created_at`, `updated_at`) VALUES (980190962, 'dave', '$2a$10$TXCnZ.hSJw3b8h5aUBBJpu1dquT6Mkimn8plKyBOFdqf1DXj2MXL6', '2019-07-02 10:04:01', '2019-07-02 10:04:01'), (298486374, 'susannah', '$2a$10$AQD5YWU7EAfdLKdAF83M7uiPkmii2okLBhXsBhKvSBnmOjE/Qj6IS', '2019-07-02 10:04:01', '2019-07-02 10:04:01');
[0m
  [1m[35m (45.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (7.5ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.2ms)
OrderNotifierMailer#shipped: processed outbound mail in 19.3ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.4ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (1.6ms)
OrderNotifierMailer#received: processed outbound mail in 22.3ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (14.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
DELETE FROM `users`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 10:06:12', '2019-07-02 10:06:12', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 10:06:12', '2019-07-02 10:06:12', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 10:06:12', '2019-07-02 10:06:12'), (298486374, '2019-07-02 10:06:12', '2019-07-02 10:06:12');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 10:06:12', '2019-07-02 10:06:12'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 10:06:12', '2019-07-02 10:06:12');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 10:06:12', '2019-07-02 10:06:12'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 10:06:12', '2019-07-02 10:06:12'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 10:06:12', '2019-07-02 10:06:12');
INSERT INTO `users` (`id`, `name`, `password_digest`, `created_at`, `updated_at`) VALUES (980190962, 'dave', '$2a$10$Wnh0GjJuJO3A1oCGKGf3AOaPlXS35mrmx0r8oumNG7fBNGaE1molq', '2019-07-02 10:06:12', '2019-07-02 10:06:12'), (298486374, 'susannah', '$2a$10$.HD3yEWY63epbB1tKuh6euLhReq5JKlEo4iiLnHAYRQj6jJMRWXq.', '2019-07-02 10:06:12', '2019-07-02 10:06:12');
[0m
  [1m[35m (43.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (1.0ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (5.8ms)
OrderNotifierMailer#received: processed outbound mail in 16.5ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (1.6ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.2ms)
OrderNotifierMailer#shipped: processed outbound mail in 7.9ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (29.0ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
DELETE FROM `users`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 10:07:36', '2019-07-02 10:07:36', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 10:07:36', '2019-07-02 10:07:36', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 10:07:36', '2019-07-02 10:07:36'), (298486374, '2019-07-02 10:07:36', '2019-07-02 10:07:36');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 10:07:36', '2019-07-02 10:07:36'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 10:07:36', '2019-07-02 10:07:36');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 10:07:36', '2019-07-02 10:07:36'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 10:07:36', '2019-07-02 10:07:36'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 10:07:36', '2019-07-02 10:07:36');
INSERT INTO `users` (`id`, `name`, `password_digest`, `created_at`, `updated_at`) VALUES (980190962, 'dave', '$2a$10$64S1y57RNyVp8BOzudkq0O2D2r8UdBv/UMaBsoKGU3ttyOL4VnnDm', '2019-07-02 10:07:36', '2019-07-02 10:07:36'), (298486374, 'susannah', '$2a$10$0EUfwaCvUi1rNBUnVr2yzOmrJy.zdbzAaunQtn67w3DDhqtVy2z36', '2019-07-02 10:07:36', '2019-07-02 10:07:36');
[0m
  [1m[35m (42.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (6.7ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.2ms)
OrderNotifierMailer#shipped: processed outbound mail in 16.2ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (0.5ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (1.4ms)
OrderNotifierMailer#received: processed outbound mail in 9.2ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (32.7ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
DELETE FROM `users`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-02 10:11:25', '2019-07-02 10:11:25', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-02 10:11:25', '2019-07-02 10:11:25', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-02 10:11:25', '2019-07-02 10:11:25'), (298486374, '2019-07-02 10:11:25', '2019-07-02 10:11:25');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-02 10:11:25', '2019-07-02 10:11:25'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-02 10:11:25', '2019-07-02 10:11:25');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 10:11:25', '2019-07-02 10:11:25'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-02 10:11:25', '2019-07-02 10:11:25'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-02 10:11:25', '2019-07-02 10:11:25');
INSERT INTO `users` (`id`, `name`, `password_digest`, `created_at`, `updated_at`) VALUES (980190962, 'dave', '$2a$10$fw8VmsauBqw5FN5PhlbU4OdDpc0AjrgtM.2zrAG1.GqMc/enBTc1i', '2019-07-02 10:11:25', '2019-07-02 10:11:25'), (298486374, 'susannah', '$2a$10$nsCG22fLhfIjYD.mh3PsSeLVTLcVWPT4OuZzB0Byyb9LA4GTASiBm', '2019-07-02 10:11:25', '2019-07-02 10:11:25');
[0m
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (1.0ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (6.3ms)
OrderNotifierMailer#received: processed outbound mail in 16.7ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (1.8ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.3ms)
OrderNotifierMailer#shipped: processed outbound mail in 7.9ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (2.6ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM `line_items`;
DELETE FROM `carts`;
DELETE FROM `orders`;
DELETE FROM `products`;
DELETE FROM `users`;
INSERT INTO `line_items` (`id`, `product_id`, `cart_id`, `created_at`, `updated_at`, `quantity`, `order_id`) VALUES (980190962, 207281424, 980190962, '2019-07-04 06:56:34', '2019-07-04 06:56:34', DEFAULT, DEFAULT), (298486374, 207281424, 980190962, '2019-07-04 06:56:34', '2019-07-04 06:56:34', DEFAULT, DEFAULT);
INSERT INTO `carts` (`id`, `created_at`, `updated_at`) VALUES (980190962, '2019-07-04 06:56:34', '2019-07-04 06:56:34'), (298486374, '2019-07-04 06:56:34', '2019-07-04 06:56:34');
INSERT INTO `orders` (`id`, `name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES (980190962, 'Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2019-07-04 06:56:34', '2019-07-04 06:56:34'), (298486374, 'MyString', 'MyText', 'MyString', 'MyString', '2019-07-04 06:56:34', '2019-07-04 06:56:34');
INSERT INTO `products` (`id`, `title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES (980190962, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-04 06:56:34', '2019-07-04 06:56:34'), (298486374, 'MyString', 'MyText', 'cs.jpg', 9.99, '2019-07-04 06:56:34', '2019-07-04 06:56:34'), (207281424, 'Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 'ruby.jpg', 49.5, '2019-07-04 06:56:34', '2019-07-04 06:56:34');
INSERT INTO `users` (`id`, `name`, `password_digest`, `created_at`, `updated_at`) VALUES (980190962, 'dave', '$2a$10$8wqvkLFyFMCHSFW4k43ZTuQZGTMq9Ja/QCyYhXYASj9M/FZpHjOk6', '2019-07-04 06:56:34', '2019-07-04 06:56:34'), (298486374, 'susannah', '$2a$10$Bz/w9dfzGH0CrN7exfaHIe/YbgP1F1LfNwgS0Me2pQK4Pqj/Wn0Cu', '2019-07-04 06:56:34', '2019-07-04 06:56:34');
[0m
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ProductsControllerTest: test_cannot_delete_product_in_cart
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
OrderNotifierMailerTest: test_received
--------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/received.html.erb within layouts/mailer
  Rendered order_notifier_mailer/received.html.erb within layouts/mailer (1.4ms)
  Rendering order_notifier_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/received.text.erb within layouts/mailer (12.1ms)
OrderNotifierMailer#received: processed outbound mail in 26.4ms
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
OrderNotifierMailerTest: test_shipped
-------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  Rendering order_notifier_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 980190962[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_notifier_mailer/shipped.html.erb within layouts/mailer (1.7ms)
  Rendering order_notifier_mailer/shipped.text.erb within layouts/mailer
  Rendered order_notifier_mailer/shipped.text.erb within layouts/mailer (0.4ms)
OrderNotifierMailer#shipped: processed outbound mail in 9.7ms
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductTest: test_products_attribute_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (4.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
